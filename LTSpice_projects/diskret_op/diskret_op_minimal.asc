Version 4
SHEET 1 5924 1028
WIRE -528 -1136 -592 -1136
WIRE -480 -1136 -528 -1136
WIRE -480 -1040 -480 -1136
WIRE -1024 -800 -1136 -800
WIRE -928 -800 -1024 -800
WIRE -480 -800 -480 -960
WIRE -432 -800 -480 -800
WIRE -1136 -768 -1136 -800
WIRE -928 -768 -928 -800
WIRE -560 -736 -672 -736
WIRE -480 -736 -480 -800
WIRE -480 -736 -496 -736
WIRE -592 -672 -592 -1136
WIRE -1136 -624 -1136 -688
WIRE -928 -624 -928 -688
WIRE -896 -624 -928 -624
WIRE -736 -624 -896 -624
WIRE -672 -624 -672 -736
WIRE -656 -624 -672 -624
WIRE -480 -608 -480 -736
WIRE -432 -608 -480 -608
WIRE -480 -576 -480 -608
WIRE 288 -576 256 -576
WIRE 384 -576 368 -576
WIRE -1136 -560 -1136 -624
WIRE -928 -560 -928 -624
WIRE -736 -528 -736 -624
WIRE -592 -528 -592 -576
WIRE -544 -528 -592 -528
WIRE -1200 -512 -1232 -512
WIRE -800 -512 -864 -512
WIRE 448 -480 400 -480
WIRE 480 -480 448 -480
WIRE 256 -448 256 -576
WIRE 400 -448 400 -480
WIRE -736 -416 -736 -448
WIRE -592 -416 -592 -528
WIRE -1136 -400 -1136 -464
WIRE -1040 -400 -1136 -400
WIRE -928 -400 -928 -464
WIRE -928 -400 -1040 -400
WIRE -1040 -384 -1040 -400
WIRE 144 -320 16 -320
WIRE 544 -320 144 -320
WIRE 656 -320 544 -320
WIRE 768 -320 656 -320
WIRE -592 -304 -592 -336
WIRE -544 -304 -592 -304
WIRE -480 -304 -480 -480
WIRE -480 -304 -544 -304
WIRE 144 -288 144 -320
WIRE -1040 -272 -1040 -304
WIRE 656 -224 656 -320
WIRE 144 -192 144 -208
WIRE 144 -192 48 -192
WIRE 256 -192 144 -192
WIRE 48 -112 48 -192
WIRE 256 -112 256 -192
WIRE -1040 -64 -1040 -80
WIRE 768 -32 768 -320
WIRE -208 16 -384 16
WIRE 656 16 656 -144
WIRE 704 16 656 16
WIRE -1040 48 -1040 16
WIRE -1040 48 -1152 48
WIRE -944 48 -1040 48
WIRE 48 48 48 -32
WIRE 256 48 256 -32
WIRE 576 80 464 80
WIRE 656 80 656 16
WIRE 656 80 640 80
WIRE -208 96 -304 96
WIRE -16 96 -48 96
WIRE 336 96 320 96
WIRE 768 112 768 64
WIRE 816 112 768 112
WIRE 848 112 816 112
WIRE -304 128 -304 96
WIRE 144 128 144 96
WIRE -1152 144 -1152 48
WIRE -944 144 -944 48
WIRE -384 144 -384 16
WIRE 544 144 544 -320
WIRE 768 160 768 112
WIRE -752 176 -752 80
WIRE 48 176 48 144
WIRE 80 176 48 176
WIRE 256 176 256 144
WIRE -1216 192 -1248 192
WIRE -816 192 -880 192
WIRE 256 192 256 176
WIRE 304 192 256 192
WIRE 368 192 336 192
WIRE 384 192 368 192
WIRE 464 192 464 80
WIRE 464 192 432 192
WIRE 480 192 464 192
WIRE 656 208 656 80
WIRE 704 208 656 208
WIRE -384 224 -384 192
WIRE -304 224 -304 208
WIRE 48 240 48 176
WIRE 256 240 256 192
WIRE 368 240 368 192
WIRE 384 240 368 240
WIRE 656 240 656 208
WIRE 432 256 432 240
WIRE 432 256 416 256
WIRE -944 272 -944 240
WIRE -896 272 -944 272
WIRE -832 272 -896 272
WIRE -1152 288 -1152 240
WIRE -752 288 -752 256
WIRE -304 288 -368 288
WIRE 144 288 144 224
WIRE 144 288 112 288
WIRE 192 288 144 288
WIRE 544 288 544 240
WIRE 592 288 544 288
WIRE -1152 320 -1152 288
WIRE -944 320 -944 272
WIRE -368 320 -368 288
WIRE 416 336 416 256
WIRE 416 336 400 336
WIRE 48 368 48 336
WIRE 48 368 32 368
WIRE 256 368 256 336
WIRE 272 368 256 368
WIRE 48 384 48 368
WIRE 144 384 144 288
WIRE 256 384 256 368
WIRE 416 384 416 336
WIRE 544 400 544 288
WIRE -1152 416 -1152 400
WIRE -1040 416 -1152 416
WIRE -944 416 -944 400
WIRE -944 416 -1040 416
WIRE -368 416 -368 400
WIRE -352 416 -368 416
WIRE -336 416 -352 416
WIRE -256 416 -288 416
WIRE -368 448 -368 416
WIRE -192 464 -192 416
WIRE -368 496 -368 480
WIRE -224 512 -240 512
WIRE 48 512 48 464
WIRE 48 512 16 512
WIRE 144 512 144 464
WIRE 144 512 48 512
WIRE 256 512 256 464
WIRE 256 512 144 512
WIRE 416 512 416 464
WIRE 416 512 256 512
WIRE 544 512 544 480
WIRE 544 512 416 512
WIRE 656 512 656 336
WIRE 656 512 544 512
WIRE 768 512 768 256
WIRE 768 512 656 512
WIRE -192 592 -192 560
WIRE 592 592 576 592
WIRE 592 624 576 624
FLAG 16 -320 V+
IOPIN 16 -320 In
FLAG 16 512 V-
IOPIN 16 512 In
FLAG 592 624 V-
IOPIN 592 624 Out
FLAG 592 592 V+
IOPIN 592 592 Out
FLAG -368 496 0
FLAG -304 288 in+
IOPIN -304 288 In
FLAG -256 416 in-
IOPIN -256 416 In
FLAG 816 112 out
FLAG 256 176 Vo+
FLAG 48 176 Vo-
FLAG 144 96 V+
IOPIN 144 96 In
FLAG -208 16 in+
IOPIN -208 16 Out
FLAG -208 96 in-
IOPIN -208 96 Out
FLAG -304 224 0
FLAG -384 224 0
FLAG -352 416 0
FLAG 256 -368 0
FLAG 400 -368 0
FLAG 384 -576 offs+
FLAG 448 -480 offs-
FLAG 304 368 offs+
FLAG 0 368 offs-
FLAG -192 416 offs-
FLAG -192 592 offs+
FLAG -240 512 V-
IOPIN -240 512 In
FLAG -1024 -800 V+
FLAG -896 -624 Vo+2
FLAG -1136 -624 Vo-2
FLAG -1040 -272 V-
IOPIN -1040 -272 In
FLAG -736 -416 0
FLAG -528 -1136 V+
FLAG -544 -304 V-
IOPIN -544 -304 In
FLAG -800 -512 0
FLAG -672 -624 0
FLAG -48 96 0
FLAG 336 96 in-
IOPIN 336 96 In
FLAG -1232 -512 in+
IOPIN -1232 -512 In
FLAG -1040 -80 V+
FLAG -752 288 0
FLAG -816 192 0
FLAG -1248 192 in+
IOPIN -1248 192 In
FLAG -1040 416 V-
IOPIN -1040 416 In
FLAG -896 272 Vo+3
FLAG -1152 288 Vo-3
SYMBOL EIT_Semiconductors\\pnp -16 144 M180
SYMATTR InstName Q1
SYMATTR Value PNP1
SYMBOL EIT_Semiconductors\\pnp 320 144 R180
SYMATTR InstName Q2
SYMATTR Value PNP1
SYMBOL MDB_sym\\source-I 144 -208 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I1
SYMATTR Value {I0}  load
SYMBOL MDB_sym\\source-I 656 -144 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I2
SYMATTR Value 200u
SYMATTR SpiceLine load
SYMBOL EIT_Semiconductors\\npn 112 240 M0
SYMATTR InstName Q3
SYMATTR Value NPN1
SYMBOL EIT_Semiconductors\\npn 192 240 R0
SYMATTR InstName Q4
SYMATTR Value NPN1
SYMBOL MDB_sym\\arrow_curr 320 192 M270
WINDOW 0 4 0 VTop 2
SYMATTR InstName Idv
SYMBOL EIT_Semiconductors\\npn 480 144 R0
SYMATTR InstName Q5
SYMATTR Value NPN1
SYMBOL EIT_Semiconductors\\npn 592 240 R0
SYMATTR InstName Q6
SYMATTR Value NPN1
SYMBOL MDB_sym\\source-I 544 480 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 -9 Left 2
SYMATTR InstName I4
SYMATTR Value 20u
SYMATTR SpiceLine load
SYMBOL EIT_Semiconductors\\npn 704 -32 R0
SYMATTR InstName Q7
SYMATTR Value npn1
SYMBOL EIT_Semiconductors\\pnp 704 256 M180
SYMATTR InstName Q8
SYMATTR Value PNP1
SYMBOL cap 640 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Ccomp}
SYMBOL MDB_sym\\source-Vmarker 576 592 R0
SYMATTR Value V={VCC}
SYMATTR InstName U1
SYMBOL MDB_sym\\source-Vmarker 576 624 R0
SYMATTR Value V={VEE}
SYMATTR InstName U2
SYMBOL MDB_sym\\source-V -368 304 M0
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value SINE(0 10m 1k 5m)
SYMBOL MDB_sym\\jumper 416 112 R0
SYMATTR InstName X1
SYMBOL MDB_sym\\jumper -304 320 R0
SYMATTR InstName X2
SYMBOL MDB_sym\\isoR -368 464 R0
SYMATTR InstName R1
SYMBOL crtl-V-V -304 112 R0
SYMATTR InstName E1
SYMATTR Value -1
SYMBOL res 240 -128 R0
SYMATTR InstName R5
SYMATTR Value 10u
SYMBOL res 32 -128 R0
SYMATTR InstName R4
SYMATTR Value 10u
SYMBOL MDB_sym\\source-V 256 -464 M0
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value {offp}
SYMBOL MDB_sym\\source-V 400 -464 M0
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {offn}
SYMBOL res 384 -592 R90
WINDOW 0 7 56 VBottom 2
WINDOW 3 25 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL EIT_Semiconductors\\npn 80 128 R0
SYMATTR InstName Q9
SYMATTR Value NPN1
SYMBOL res 64 368 M0
SYMATTR InstName R3
SYMATTR Value 1u
SYMBOL res 128 368 R0
WINDOW 3 39 68 Left 2
SYMATTR InstName R8
SYMATTR Value 50k
SYMBOL res 272 368 M0
SYMATTR InstName R7
SYMATTR Value 1u
SYMBOL EXTRA\\Misc\\pot -192 512 R0
SYMATTR InstName U3
SYMATTR Value R=1k
SYMATTR Value2 T={roff}
SYMBOL res 432 368 M0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL MDB_sym\\jumper 384 224 R0
SYMATTR InstName X3
SYMBOL res -944 -784 R0
SYMATTR InstName R10
SYMATTR Value {Rc}
SYMBOL res -1152 -784 R0
SYMATTR InstName R11
SYMATTR Value {Rc}
SYMBOL MDB_sym\\source-I -1040 -304 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I5
SYMATTR Value {i02}
SYMBOL MDB_sym\\source-I -480 -960 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I3
SYMATTR Value 200u
SYMATTR SpiceLine load
SYMBOL EIT_Semiconductors\\npn -656 -672 R0
SYMATTR InstName Q11
SYMATTR Value CA3096_npn
SYMBOL EIT_Semiconductors\\npn -544 -576 R0
SYMATTR InstName Q12
SYMATTR Value CA3096_npn
SYMBOL MDB_sym\\source-I -592 -336 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 -9 Left 2
SYMATTR InstName I6
SYMATTR Value 20u
SYMATTR SpiceLine load
SYMBOL cap -496 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {Ccomp}
SYMBOL EIT_Semiconductors\\npn -1200 -560 R0
SYMATTR InstName Q10
SYMATTR Value CA3096_npn
SYMBOL EIT_Semiconductors\\npn -864 -560 M0
SYMATTR InstName Q13
SYMATTR Value CA3096_npn
SYMBOL MDB_sym\\source-I -1040 16 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I8
SYMATTR Value {i02}
SYMBOL EIT_Semiconductors\\pnp -1216 240 M180
SYMATTR InstName Q14
SYMATTR Value PNP1
SYMBOL EIT_Semiconductors\\pnp -880 240 R180
SYMATTR InstName Q15
SYMATTR Value PNP1
SYMBOL res -1168 304 R0
SYMATTR InstName R9
SYMATTR Value {Rc}
SYMBOL res -960 304 R0
SYMATTR InstName R12
SYMATTR Value {Rc}
TEXT 616 -480 Left 2 ;.model NPN11 npn (IS=4.679E-14 Bf=Bfn)\n.model PNP11 pnp (IS=4.679E-14 Bf={BFp})\n.model NPN11 npn (Is={I0/exp(0.6/26m)} Bf=400)\n.model PNP11 pnp (Is={I0/exp(0.6/26m)} Bf=300)
TEXT 848 -312 Left 2 !.param I0=20u\n.param Ccomp=30p\n.param VCC=10V\n.param VEE=-10V\n.param offp=15m\n.param offn=0
TEXT -200 -144 Left 2 ;.tran 10m
TEXT -256 -192 Left 2 !.dc V1 -150m 150m 1m
TEXT 528 -600 Left 1 ;plot:\n-------\nIx(Idv:out)\n-40u/(4*26m)*V(in+,in-)/(1V/1A)*0.5*(sgn(V(in+,in-)+80m)-sgn(V(in+,in-)-80m))\nd( -40u/(4*26m)*V(in+,in-)/(1V/1A)*0.5*(sgn(V(in+,in-)+80m)-sgn(V(in+,in-)-80m)) )
TEXT 824 -120 Left 2 !.param Bfn=400\n.param Bfp=300\n.param alpha=Bfn/(Bfn+1)
TEXT -216 -456 Left 2 ;.step param ioff -10u 10u 1u
TEXT -16 608 Left 2 ;.step param roff 0.01 .99 250m
TEXT -32 568 Left 2 !.param roff = .01
TEXT -80 744 Left 2 ;.step param R3 list 1k 500 200 100 10 10m
TEXT 88 640 Left 2 !.param R3=1u
TEXT 176 960 Left 2 !.MODEL npn1 NPN IS=10.000E-15 BF=466.52 VAF=100 IKF=14.030E-3 ISE=74.093E-15 NE=1.6606 BR=.1001 VAR=100 IKR=10.010E-3 ISC=10.000E-15 NK=.46898 RC=10 CJE=1.2825E-12 MJE=.33333 CJC=786.59E-15 MJC=.33333 TF=490.39E-12 XTF=5.3212 VTF=28.396 ITF=.27408 TR=10.000E-9 Vceo=20 Icrating=0.1A mfg=Fairchild)\n.MODEL pnp1 PNP IS=10.000E-15 BF=94.511 VAF=100 IKF=1.1177E-3 ISE=976.47E-15 NE=1.9980 BR=.1001 VAR=100 IKR=10.010E-3 ISC=10.000E-15 NK=.53243 CJE=1.4535E-12 MJE=.33333 CJC=3.8474E-12 MJC=.33333 TF=24.300E-9 XTF=10.054 VTF=9.7920 ITF=1.2571 TR=10.000E-9 Vceo=20 Icrating=0.1A mfg=Fairchild)\n;.model CA3046 npn ( IS=10.0f XTI=3.0 EG=1.11 VAF=100 VAR=100 BF=145.7 ISE=114.286f NE=1.480 IKF=46.7m XTB=0 BR=0.1 ISC=10.005f NC=2.0 IKR=10m RC=10.0 CJC=991.7f MJC=0.333 VJC=0.75 FC=0.5 CJE=1.02p MJE=0.336 VJE=0.75 TR=10n TF=277.01p ITF=1.75 XTF=309.38 VTF=16.37 PTF=0 RE=0 RB=0 Vceo=20 Icrating=0.1A mfg=Fairchild)
TEXT 272 -248 Left 2 ;.step param Iq 10u 250u 10u
TEXT -856 -224 Left 2 !;.step param i02 5u 50u 5u\n.param I02=20u
TEXT -1096 -848 Left 2 !.param Rc=250k
