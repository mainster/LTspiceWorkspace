Version 4
SHEET 1 880 680
WIRE -656 -560 -816 -560
WIRE -496 -560 -576 -560
WIRE -448 -560 -496 -560
WIRE -352 -560 -448 -560
WIRE -224 -560 -272 -560
WIRE -192 -560 -224 -560
WIRE -80 -560 -192 -560
WIRE 0 -560 -80 -560
WIRE -192 -544 -192 -560
WIRE -448 -496 -448 -560
WIRE -400 -496 -448 -496
WIRE -336 -496 -400 -496
WIRE -80 -480 -80 -560
WIRE -816 -464 -816 -560
WIRE -448 -464 -448 -496
WIRE -400 -464 -400 -496
WIRE -336 -464 -336 -496
WIRE 0 -464 0 -560
WIRE -640 -448 -640 -512
WIRE -192 -448 -192 -464
WIRE -192 -432 -192 -448
WIRE -816 -352 -816 -384
WIRE -640 -352 -640 -368
WIRE -448 -352 -448 -400
WIRE -400 -352 -400 -384
WIRE -336 -352 -336 -400
WIRE -192 -352 -192 -368
WIRE -80 -352 -80 -400
WIRE 0 -352 0 -384
FLAG -448 -352 0
FLAG -816 -352 0
FLAG -592 -512 0
FLAG -640 -352 0
FLAG -496 -560 sw_buck
FLAG -224 -560 out_buck
FLAG 0 -352 0
FLAG -192 -352 0
FLAG -192 -448 ca
FLAG -400 -352 0
FLAG -336 -352 0
FLAG -80 -352 0
SYMBOL sw -560 -560 M270
SYMATTR InstName S2
SYMBOL voltage -816 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR InstName V3
SYMATTR Value 12
SYMATTR SpiceLine Rser=1m
SYMBOL ind -256 -576 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 38 61 VTop 2
SYMATTR InstName L2
SYMATTR Value 100µ
SYMBOL diode -432 -400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL cap -208 -432 R0
SYMATTR InstName C2
SYMATTR Value 20µ
SYMBOL voltage -640 -464 R0
WINDOW 3 -47 151 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 0 {trf} {trf} {1/(2*fsw)} {1/(fsw)})
SYMBOL current 0 -464 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName IL
SYMATTR Value PULSE(0.5 1 1m 1u)
SYMBOL res -208 -560 R0
SYMATTR InstName Rs
SYMATTR Value {Rs}
SYMBOL res -416 -480 R0
SYMATTR InstName Rpar
SYMATTR Value 10k
SYMBOL cap -352 -464 R0
SYMATTR InstName Cpar
SYMATTR Value 10p
SYMBOL res -96 -496 R0
SYMATTR InstName R1
SYMATTR Value {RL}
TEXT -816 -760 Left 2 !.model SW VSWITCH Roff=1e6 Ron=1u Voff=0.1 Von =0.9
TEXT -800 -928 Left 2 !.param fsw=50k\n.param RL=10meg\n.param trf=10n\n.param Rs=200m
TEXT -850 -292 Left 2 !.tran 3m
TEXT -512 -688 Left 2 ;.step param Rs list 100m 1m 500u
TEXT -720 -168 Left 2 ;.tran 0 5m {5m-3*1/fsw} 10n
TEXT -320 -216 Left 2 ;.step param Rl list 10 1
