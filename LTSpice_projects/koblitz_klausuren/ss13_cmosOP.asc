Version 4
SHEET 1 944 756
WIRE -816 -800 -912 -800
WIRE -640 -800 -816 -800
WIRE -480 -800 -640 -800
WIRE -320 -800 -480 -800
WIRE -160 -800 -320 -800
WIRE -112 -800 -160 -800
WIRE -816 -784 -816 -800
WIRE 256 -784 224 -784
WIRE 400 -784 256 -784
WIRE 560 -784 400 -784
WIRE -480 -752 -480 -800
WIRE -160 -752 -160 -800
WIRE -560 -736 -768 -736
WIRE -400 -736 -432 -736
WIRE -208 -736 -240 -736
WIRE -80 -736 -64 -752
WIRE -48 -736 -64 -752
WIRE 560 -720 560 -784
WIRE -64 -656 -64 -752
WIRE 256 -656 256 -784
WIRE -560 -624 -560 -736
WIRE -400 -624 -400 -736
WIRE -400 -624 -560 -624
WIRE -288 -624 -400 -624
WIRE -240 -624 -240 -736
WIRE -240 -624 -288 -624
WIRE -160 -624 -160 -656
WIRE -160 -624 -240 -624
WIRE -480 -608 -480 -656
WIRE -848 -592 -912 -592
WIRE -816 -592 -816 -656
WIRE -816 -592 -848 -592
WIRE -720 -592 -816 -592
WIRE 400 -592 400 -784
WIRE -320 -576 -320 -800
WIRE -160 -576 -160 -624
WIRE -912 -560 -912 -592
WIRE -720 -560 -720 -592
WIRE -976 -544 -1008 -544
WIRE -960 -544 -976 -544
WIRE -656 -544 -672 -544
WIRE -624 -544 -656 -544
WIRE -976 -528 -976 -544
WIRE -656 -528 -656 -544
WIRE 224 -512 192 -512
WIRE 256 -512 256 -576
WIRE 256 -512 224 -512
WIRE 320 -512 256 -512
WIRE 352 -512 320 -512
WIRE -480 -496 -480 -528
WIRE -448 -496 -480 -496
WIRE -368 -496 -448 -496
WIRE 400 -448 400 -496
WIRE 688 -448 400 -448
WIRE 720 -448 688 -448
WIRE -720 -416 -720 -464
WIRE -672 -416 -720 -416
WIRE -624 -416 -672 -416
WIRE -576 -416 -624 -416
WIRE -320 -416 -320 -480
WIRE -320 -416 -512 -416
WIRE -240 -416 -320 -416
WIRE -16 -416 -240 -416
WIRE 16 -416 -16 -416
WIRE 256 -416 256 -512
WIRE 512 -384 480 -384
WIRE 560 -384 560 -640
WIRE 560 -384 512 -384
WIRE -912 -368 -912 -464
WIRE -832 -368 -912 -368
WIRE -208 -368 -240 -368
WIRE -160 -368 -160 -496
WIRE -160 -368 -208 -368
WIRE -16 -368 -16 -416
WIRE 400 -368 400 -448
WIRE 560 -368 560 -384
WIRE -912 -352 -912 -368
WIRE -720 -352 -720 -416
WIRE -480 -352 -480 -496
WIRE -320 -352 -320 -416
WIRE -160 -352 -160 -368
WIRE 656 -304 656 -320
WIRE 480 -288 480 -384
WIRE 480 -288 448 -288
WIRE 512 -288 480 -288
WIRE -832 -272 -832 -368
WIRE -832 -272 -864 -272
WIRE -768 -272 -832 -272
WIRE -624 -272 -624 -416
WIRE -528 -272 -624 -272
WIRE -240 -272 -240 -368
WIRE -240 -272 -272 -272
WIRE -208 -272 -240 -272
WIRE -16 -256 -16 -288
WIRE 256 -240 256 -336
WIRE 400 -240 400 -272
WIRE 560 -240 560 -272
WIRE -912 -224 -912 -256
WIRE -720 -224 -720 -256
WIRE -480 -224 -480 -256
WIRE -320 -224 -320 -256
WIRE -160 -224 -160 -256
WIRE -1056 -144 -1056 -160
WIRE -688 -144 -768 -144
WIRE -928 -128 -928 -144
WIRE -768 -128 -768 -144
WIRE -560 -96 -592 -96
WIRE -528 -96 -560 -96
WIRE -1056 -48 -1056 -64
WIRE -928 -32 -928 -48
WIRE -768 -32 -768 -48
WIRE -816 192 -912 192
WIRE -768 192 -816 192
WIRE -640 192 -768 192
WIRE -480 192 -640 192
WIRE -432 192 -480 192
WIRE -320 192 -432 192
WIRE -160 192 -320 192
WIRE -112 192 -160 192
WIRE 0 192 -112 192
WIRE -160 224 -160 192
WIRE -112 224 -112 192
WIRE -816 240 -816 192
WIRE -768 240 -768 192
WIRE -480 240 -480 192
WIRE -432 240 -432 192
WIRE -816 336 -816 320
WIRE -768 336 -768 320
WIRE -768 336 -816 336
WIRE -480 336 -480 320
WIRE -432 336 -432 320
WIRE -432 336 -480 336
WIRE -160 336 -160 304
WIRE -112 336 -112 304
WIRE -112 336 -160 336
WIRE -816 368 -816 336
WIRE -816 368 -912 368
WIRE -720 368 -816 368
WIRE -320 384 -320 192
WIRE -912 400 -912 368
WIRE -720 400 -720 368
WIRE -976 416 -1008 416
WIRE -960 416 -976 416
WIRE -656 416 -672 416
WIRE -624 416 -656 416
WIRE -976 432 -976 416
WIRE -656 432 -656 416
WIRE -480 464 -480 336
WIRE -432 464 -480 464
WIRE -368 464 -432 464
WIRE -720 544 -720 496
WIRE -624 544 -720 544
WIRE -576 544 -624 544
WIRE -320 544 -320 480
WIRE -320 544 -512 544
WIRE -96 544 -320 544
WIRE -16 544 -96 544
WIRE 48 544 -16 544
WIRE 80 544 48 544
WIRE -912 592 -912 496
WIRE -832 592 -912 592
WIRE -208 592 -240 592
WIRE -160 592 -160 336
WIRE -160 592 -208 592
WIRE -16 592 -16 544
WIRE 48 592 48 544
WIRE -912 608 -912 592
WIRE -720 608 -720 544
WIRE -480 608 -480 464
WIRE -320 608 -320 544
WIRE -160 608 -160 592
WIRE -832 688 -832 592
WIRE -832 688 -864 688
WIRE -768 688 -832 688
WIRE -624 688 -624 544
WIRE -528 688 -624 688
WIRE -240 688 -240 592
WIRE -240 688 -272 688
WIRE -208 688 -240 688
WIRE -16 704 -16 672
WIRE 48 704 48 672
WIRE -912 736 -912 704
WIRE -720 736 -720 704
WIRE -480 736 -480 704
WIRE -320 736 -320 704
WIRE -160 736 -160 704
FLAG -624 -544 in+
IOPIN -624 -544 In
FLAG -1008 -544 in-
IOPIN -1008 -544 In
FLAG -112 -800 Vdd
IOPIN -112 -800 In
FLAG -880 -144 in+
IOPIN -880 -144 In
FLAG -928 -32 0
FLAG 16 -416 out
IOPIN 16 -416 Out
FLAG -848 -592 s12
FLAG -672 -416 G5
FLAG -1024 -656 in-
IOPIN -1024 -656 In
FLAG -1056 -48 0
FLAG -768 -32 0
FLAG -688 -144 in+
IOPIN -688 -144 In
FLAG -560 -96 ft
FLAG -912 -224 0
FLAG -720 -224 0
FLAG -480 -224 0
FLAG -320 -224 0
FLAG -160 -224 0
FLAG -288 -624 Gi
FLAG -448 -496 G6
FLAG -16 -256 0
FLAG 400 -240 0
FLAG 560 -240 0
FLAG 224 -784 Vdd
IOPIN 224 -784 In
FLAG 320 -512 G15
FLAG 688 -448 out2
FLAG 656 -304 0
FLAG 256 -240 0
FLAG -1088 -352 in+
IOPIN -1088 -352 In
FLAG -1120 -656 out
IOPIN -1120 -656 BiDir
FLAG -624 416 in+b
IOPIN -624 416 In
FLAG -1008 416 in-b
IOPIN -1008 416 In
FLAG 80 544 outb
IOPIN 80 544 Out
FLAG -912 736 0
FLAG -720 736 0
FLAG -480 736 0
FLAG -320 736 0
FLAG -160 736 0
FLAG -16 704 0
FLAG 0 192 Vdd
IOPIN 0 192 In
FLAG -1072 608 in-b
IOPIN -1072 608 In
FLAG -1072 528 in+b
IOPIN -1072 528 In
FLAG -912 192 Vdd
IOPIN -912 192 In
FLAG 48 704 0
FLAG -624 544 G19
FLAG -432 464 G22
FLAG -1088 -272 in-
IOPIN -1088 -272 In
DATAFLAG -784 -640 "round(-1e6*Id(M11))*1e-6"
DATAFLAG -640 -800 "round(1e3*$)*1e-3"
DATAFLAG -752 -448 "round(-1e6*Id(M2))*1e-6"
DATAFLAG -880 -448 "round(-1e6*Id(M1))*1e-6"
DATAFLAG -448 -640 "round(-1e6*Id(M10))*1e-6"
DATAFLAG -752 -352 "round(1e6*Id(M4))*1e-6"
DATAFLAG -128 -640 "round(-1e6*Id(M9))*1e-6"
DATAFLAG -528 -96 "round(1e3*$)*1e-3"
DATAFLAG -208 -368 "round(1e3*$)*1e-3"
DATAFLAG -448 -352 "round(1e6*Id(M5))*1e-6"
DATAFLAG -112 -352 "round(1e6*Id(M8))*1e-6"
DATAFLAG -368 -352 "round(1e6*Id(M7))*1e-6"
DATAFLAG -16 -688 "round(1e3*(V(Gi,Vdd)))*1e-3"
DATAFLAG -480 -496 "round(1e3*$)*1e-3"
DATAFLAG -400 -448 "round(1e3*V(G6,out))*1e-3"
DATAFLAG -240 -416 "round(1e3*$)*1e-3"
DATAFLAG 512 -384 "round(1e3*$)*1e-3"
DATAFLAG 352 -368 "round(1e6*Id(M7))*1e-6"
DATAFLAG 720 -448 "round(1e3*$)*1e-3"
DATAFLAG 320 -464 "round(1e3*V(G15,out2))*1e-3"
DATAFLAG 400 -784 "round(1e3*$)*1e-3"
DATAFLAG 224 -512 "round(1e3*$)*1e-3"
DATAFLAG -752 512 "round(-1e6*Id(M2))*1e-6"
DATAFLAG -880 512 "round(-1e6*Id(M1))*1e-6"
DATAFLAG -752 608 "round(1e6*Id(M4))*1e-6"
DATAFLAG -208 592 "round(1e3*$)*1e-3"
DATAFLAG -448 608 "round(1e6*Id(M19))*1e-6"
DATAFLAG -112 608 "round(1e6*Id(M20))*1e-6"
DATAFLAG -368 608 "round(1e6*Id(M21))*1e-6"
DATAFLAG -480 464 "round(1e3*$)*1e-3"
DATAFLAG -400 512 "round(1e3*V(G22,outb))*1e-3"
DATAFLAG -96 544 "round(1e3*$)*1e-3"
DATAFLAG -640 192 "round(1e3*$)*1e-3"
SYMBOL EIT_Semiconductors\\pmos_2o -768 -752 M0
WINDOW 3 57 59 Left 2
SYMATTR InstName M11
SYMATTR Value P11
SYMBOL EIT_Semiconductors\\pmos_2o -432 -752 M0
WINDOW 3 57 56 Left 2
SYMATTR InstName M10
SYMATTR Value P10
SYMBOL EIT_Semiconductors\\pmos_2o -672 -560 M0
WINDOW 3 60 57 Left 2
SYMATTR InstName M2
SYMATTR Value P2
SYMBOL EIT_Semiconductors\\pmos_2o -960 -560 R0
WINDOW 3 54 55 Left 2
SYMATTR InstName M1
SYMATTR Value P1
SYMBOL EIT_Semiconductors\\nmos_b -864 -352 M0
WINDOW 3 56 57 Left 2
SYMATTR InstName M3
SYMATTR Value N3
SYMBOL cap -576 -400 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value {Ccomp}
SYMBOL MDB_sym\\source-Vmarker -912 -800 R0
SYMATTR Value V={Vdd}
SYMATTR InstName U1
SYMBOL EIT_Semiconductors\\nmos_b -768 -352 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M4
SYMATTR Value N4
SYMBOL EIT_Semiconductors\\nmos_b -528 -352 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M5
SYMATTR Value N5
SYMBOL MDB_sym\\source-V -928 -144 R0
WINDOW 3 -100 161 Left 2
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(-1 1 0 100p 100p {1/(2*f0)} {1/f0})
SYMBOL EIT_Semiconductors\\pmos_2o -208 -752 R0
WINDOW 3 56 58 Left 2
SYMATTR InstName M9
SYMATTR Value P9
SYMBOL MDB_sym\\source-V -1056 -160 R0
WINDOW 3 -57 148 Left 2
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 1 {10*f0})
SYMBOL MDB_sym\\isoR0 -656 -512 R0
WINDOW 0 9 10 Invisible 2
SYMATTR InstName U3
SYMBOL MDB_sym\\isoR0 -976 -512 R0
WINDOW 0 9 10 Invisible 2
SYMATTR InstName U4
SYMBOL MDB_sym\\source-V -768 -144 R0
WINDOW 3 34 85 Left 2
WINDOW 123 28 107 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 20m {f0})
SYMATTR Value2 AC 1
SYMBOL EIT_Semiconductors\\nmos_b -208 -352 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M8
SYMATTR Value N8
SYMBOL EIT_Semiconductors\\nmos_b -272 -352 M0
WINDOW 3 56 57 Left 2
SYMATTR InstName M7
SYMATTR Value N7
SYMBOL EIT_Semiconductors\\nmos_b -368 -576 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M6
SYMATTR Value N6
SYMBOL res -176 -592 R0
SYMATTR InstName R3
SYMATTR Value {21m/350u}
SYMBOL MDB_sym\\arrBow -368 -464 R0
SYMATTR InstName X1
SYMBOL MDB_sym\\isoR -816 -768 R0
WINDOW 3 -128 5 Left 2
SYMATTR InstName R4
SYMATTR Value {21m/200u}
SYMBOL EIT_Semiconductors\\nmos_b 512 -368 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M13
SYMATTR Value N8
SYMBOL EIT_Semiconductors\\nmos_b 448 -368 M0
WINDOW 3 56 57 Left 2
SYMATTR InstName M14
SYMATTR Value N7
SYMBOL EIT_Semiconductors\\nmos_b 352 -592 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M15
SYMATTR Value N6
SYMBOL MDB_sym\\arrBow 352 -480 R0
SYMATTR InstName X2
SYMBOL MDB_sym\\source-I 560 -640 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 350µ
SYMBOL res 240 -672 R0
SYMATTR InstName R2
SYMATTR Value 250k
SYMBOL res 640 -416 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 272 -432 M0
SYMATTR InstName R6
SYMATTR Value 350k
SYMBOL res -496 -624 R0
WINDOW 3 -134 30 Left 2
SYMATTR InstName R7
SYMATTR Value {.665/(.5*104u)}
SYMBOL MDB_sym\\source-V -1088 -368 R0
WINDOW 3 32 79 Left 2
WINDOW 123 28 54 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value {V4}
SYMATTR Value2 AC 1
SYMBOL MDB_sym\\source-I -16 -288 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I2
SYMATTR Value 1m
SYMBOL EIT_Semiconductors\\pmos_2o -672 400 M0
WINDOW 3 60 57 Left 2
SYMATTR InstName M12
SYMATTR Value P2
SYMBOL EIT_Semiconductors\\pmos_2o -960 400 R0
WINDOW 3 54 55 Left 2
SYMATTR InstName M16
SYMATTR Value P1
SYMBOL EIT_Semiconductors\\nmos_b -864 608 M0
WINDOW 3 56 57 Left 2
SYMATTR InstName M17
SYMATTR Value N3
SYMBOL cap -576 560 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value {Ccomp}
SYMBOL EIT_Semiconductors\\nmos_b -768 608 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M18
SYMATTR Value N4
SYMBOL EIT_Semiconductors\\nmos_b -528 608 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M19
SYMATTR Value N5
SYMBOL MDB_sym\\isoR0 -656 448 R0
WINDOW 0 9 10 Invisible 2
SYMATTR InstName U2
SYMBOL MDB_sym\\isoR0 -976 448 R0
WINDOW 0 9 10 Invisible 2
SYMATTR InstName U5
SYMBOL EIT_Semiconductors\\nmos_b -208 608 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M20
SYMATTR Value N8
SYMBOL EIT_Semiconductors\\nmos_b -272 608 M0
WINDOW 3 56 57 Left 2
SYMATTR InstName M21
SYMATTR Value N7
SYMBOL EIT_Semiconductors\\nmos_b -368 384 R0
WINDOW 3 56 57 Left 2
SYMATTR InstName M22
SYMATTR Value N6
SYMBOL MDB_sym\\arrBow -368 496 R0
SYMATTR InstName X3
SYMBOL MDB_sym\\source-I -816 320 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I4
SYMATTR Value {I0set}
SYMATTR SpiceLine load
SYMBOL res -784 224 R0
WINDOW 3 -75 -57 Left 2
SYMATTR InstName R9
SYMATTR Value {1/(I0set*lam)}
SYMBOL MDB_sym\\source-I -480 320 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I5
SYMATTR Value {0.5*I0set}
SYMATTR SpiceLine load
SYMBOL res -448 224 R0
WINDOW 3 -78 -49 Left 2
SYMATTR InstName R8
SYMATTR Value {1/(0.5*I0set*lam)}
SYMBOL MDB_sym\\source-I -160 304 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 47 Left 2
SYMATTR InstName I6
SYMATTR Value {Iref}
SYMATTR SpiceLine load
SYMBOL MDB_sym\\source-V -1072 512 R0
WINDOW 3 32 79 Left 2
WINDOW 123 28 54 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 0
SYMATTR Value2 AC 1
SYMBOL res 32 576 R0
SYMATTR InstName R1
SYMATTR Value 1k
TEXT -856 -1144 Left 2 !.param EingStufe=1\n+ Ccomp = 7.5p\n+ k1 = {uPcox*80} k2 = {k1}\n+ k3 = {uNcox*80} k4 = {k3} k5 = {k3} \n+ k6 = {uNcox*200} \n+ k7 = {uNcox*135.3}\n+ k8 = {uNcox*45} ;48.6}\n+ k9 = {uPcox*61.7}\n+ k10 = {uPcox*18.8}\n+ k11 = {uPcox*37.2}
TEXT -456 -1192 Left 2 !.model P1 PMOS (Kp={2*k1} Vto={Vpp} lambda = {lam}\n.model P2 PMOS (Kp={2*k2} Vto={Vpp} lambda = {lam}\n.model N3 NMOS (Kp={2*k3} Vto={Vpn} lambda = {lam}\n.model N4 NMOS (Kp={2*k4} Vto={Vpn} lambda = {lam}\n.model N5 NMOS (Kp={2*k5} Vto={Vpn} lambda = {lam}\n.model N6 NMOS (Kp={2*k6} Vto={Vpn} lambda = {lam}\n.model N7 NMOS (Kp={2*k7} Vto={Vpn} lambda = {lam}\n.model N8 NMOS (Kp={2*k8} Vto={Vpn} lambda = {lam}\n.model P9 PMOS (Kp={2*k9} Vto={Vpp} lambda = {lam}\n.model P10 PMOS (Kp={2*k10} Vto={Vpp} lambda = {lam}\n.model P11 PMOS (Kp={2*k11} Vto={Vpp} lambda = {lam}\n \n.model N6v VDMOS (nchan Kp={2*k6} Vto={Vpn} lambda = {lam}\n.model N7v VDMOS (nchan Kp={2*k7} Vto={Vpn} lambda = {lam}
TEXT -1064 -1144 Left 2 !.param CMOSop=1\n+ Vpn = 2V\n+ Vpp = -2.5V\n+ Vdd = 6V\n+ lam = 0.02\n+ Iref = 350uA\n+ I0set = 200u\n+ Vref = 2.6V\n+ uNcox = 20uA\n+ uPcox = 7uA\n+ f0 = 1k
TEXT -136 -144 Left 2 ;.tran 0 {10/f0} {9/f0}
TEXT -136 -88 Left 2 ;.dc V4 -100m 100m 1m
TEXT -136 -120 Left 2 ;.ac oct 1000 10 .1g
TEXT -592 -64 Left 2 !.meas AC ft when mag(V(out))=1 fall=1\n.meas AC A0 max mag(V(out)) ;   A0\n.meas AC fg when mag(V(out))=A0/sqrt(2) fall=1\n.meas AC A0calc param ft/fg
TEXT -288 -152 Left 2 !.op
TEXT -32 -8 Left 2 !.dc I2 -1m 1m 50u
TEXT -32 64 Left 2 !.step param V4 list -1 1
