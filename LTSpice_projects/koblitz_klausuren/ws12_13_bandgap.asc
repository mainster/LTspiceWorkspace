Version 4
SHEET 1 880 680
WIRE 144 -560 96 -560
WIRE 96 -512 96 -560
WIRE 16 -496 0 -496
WIRE 48 -496 16 -496
WIRE 176 -496 192 -512
WIRE 208 -496 192 -512
WIRE 192 -416 192 -512
WIRE 16 -384 16 -496
WIRE 96 -384 96 -416
WIRE 96 -384 16 -384
WIRE 96 -368 96 -384
WIRE 96 -272 96 -288
WIRE -560 -256 -608 -256
WIRE -352 -256 -560 -256
WIRE -96 -256 -352 -256
WIRE -64 -256 -96 -256
WIRE -560 -208 -560 -256
WIRE -352 -208 -352 -256
WIRE -448 -192 -512 -192
WIRE -432 -192 -448 -192
WIRE -400 -192 -432 -192
WIRE -272 -192 -256 -208
WIRE -240 -192 -256 -208
WIRE -96 -128 -96 -256
WIRE -256 -112 -256 -208
WIRE -432 -80 -432 -192
WIRE -352 -80 -352 -112
WIRE -352 -80 -432 -80
WIRE -656 -64 -688 -64
WIRE -592 -64 -656 -64
WIRE -560 -64 -560 -112
WIRE -560 -64 -592 -64
WIRE -560 -48 -560 -64
WIRE -96 16 -96 -48
WIRE -352 48 -352 -80
WIRE -336 48 -352 48
WIRE -256 48 -288 48
WIRE -560 96 -560 32
WIRE -464 96 -560 96
WIRE -416 96 -464 96
WIRE -176 96 -192 96
WIRE -96 96 -96 64
WIRE -96 96 -176 96
WIRE -176 128 -176 96
WIRE -560 144 -560 96
WIRE -256 144 -352 144
WIRE -96 176 -96 96
WIRE -96 176 -112 176
WIRE -464 192 -464 96
WIRE -464 192 -496 192
WIRE -352 192 -352 144
WIRE -176 256 -176 224
WIRE -560 288 -560 240
WIRE -480 288 -560 288
WIRE -432 288 -480 288
WIRE -352 288 -352 272
WIRE -352 288 -432 288
WIRE -432 304 -432 288
WIRE -480 320 -480 288
WIRE -480 400 -480 368
WIRE -432 400 -432 384
WIRE -656 416 -656 400
WIRE -144 496 -176 496
WIRE -128 496 -144 496
WIRE -656 512 -656 496
WIRE -656 608 -656 592
FLAG -64 -256 Vdd
IOPIN -64 -256 In
FLAG -592 -64 ref
FLAG -448 -192 Gi
FLAG 144 -560 Vdd
IOPIN 144 -560 In
FLAG 0 -496 Gi2
FLAG 96 -272 0
FLAG -432 400 0
FLAG -480 400 0
FLAG -176 256 0
FLAG -144 496 R1
FLAG -656 608 0
FLAG -656 400 0
DATAFLAG -528 -96 "round(-1e6*Id(M1))*1e-6"
DATAFLAG -320 -96 "round(-1e6*Id(M2))*1e-6"
DATAFLAG -208 -144 "round(1e3*(V(Gi,Vdd)))*1e-3"
DATAFLAG 128 -400 "round(-1e6*Id(M2))*1e-6"
DATAFLAG 240 -448 "round(1e3*(V(Gi2,Vdd)))*1e-3"
DATAFLAG -656 -64 "round(1e3*$)*1e-3"
DATAFLAG -464 96 "round(1e3*$)*1e-3"
DATAFLAG -304 176 "round(1e3*$)*1e-3"
DATAFLAG -384 256 "round(1e6*I(R2))*1e-6"
SYMBOL EIT_Semiconductors\\pmos_2o -512 -208 M0
WINDOW 3 57 56 Left 2
SYMATTR Value Px1
SYMATTR InstName M1
SYMBOL EIT_Semiconductors\\pmos_2o -400 -208 R0
WINDOW 3 56 58 Left 2
SYMATTR Value Px2
SYMATTR InstName M2
SYMBOL MDB_sym\\source-Vmarker -608 -256 R0
SYMATTR Value V={Vdd}
SYMATTR InstName U1
SYMBOL res -576 -64 R0
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL EIT_Semiconductors\\npn -416 48 R0
WINDOW 3 57 55 Left 2
SYMATTR InstName Q2
SYMATTR Value Nx1 3
SYMBOL EIT_Semiconductors\\npn -496 144 M0
SYMATTR InstName Q1
SYMATTR Value Nx1
SYMBOL res -368 176 R0
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL EIT_Semiconductors\\pmos_2o 48 -512 R0
WINDOW 3 56 58 Left 2
SYMATTR Value Px1
SYMATTR InstName M3
SYMBOL MDB_sym\\source-I 96 -288 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I2
SYMATTR Value 15µ
SYMBOL res -448 288 R0
SYMATTR InstName R3
SYMATTR Value {0.2V/(I1+I2)}
SYMBOL MDB_sym\\jumperSetable -480 352 M90
WINDOW 3 83 -26 VCenter 2
SYMATTR InstName U2
SYMATTR Value close={1-ss}
SYMBOL EIT_Semiconductors\\npn -192 48 M0
WINDOW 0 53 32 Left 2
WINDOW 3 54 54 Left 2
SYMATTR InstName Q3
SYMATTR Value Nx1
SYMBOL EIT_Semiconductors\\npn -112 128 M0
WINDOW 0 53 32 Left 2
WINDOW 3 54 54 Left 2
SYMATTR InstName Q4
SYMATTR Value Nx1
SYMBOL MDB_sym\\jumperSetable -96 48 M90
WINDOW 3 -58 -68 VCenter 2
SYMATTR InstName U3
SYMATTR Value close={ss}
SYMBOL res -112 -144 R0
SYMATTR InstName R4
SYMATTR Value 50k
SYMBOL MDB_sym\\jumperSetable -320 48 M0
WINDOW 3 -35 -54 Center 2
SYMATTR InstName U4
SYMATTR Value close={ss}
SYMBOL MDB_sym\\source-Vmarker -176 496 R0
SYMATTR Value V={R1}
SYMATTR InstName U5
SYMBOL MDB_sym\\source-I -656 592 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 1A
SYMBOL res -672 400 R0
SYMATTR InstName R5
SYMATTR Value 1
TEXT 80 -200 Left 2 !.model Px1 PMOS (Kp={2*k1} Vto={Vpp}\n.model Px2 PMOS (Kp={2*k2} Vto={Vpp}\n.model Nx1 NPN (Is={Is1} bf={beta})\n.model Nx2 NPN (Is={Is2} bf={beta})
TEXT 88 -80 Left 2 !.param Bandgap=1\n+ Vdd = 2V\n+ Vref = 1.24V\n+ uPcox = 15u\n+ Vbe01 = 0.663V\n+ I1 = 60u\n+ I2 = 15u\n+ Vpp = -1.5V\n+ k1 = {uPcox*11.1} \n+ k2 = {uPcox*44.4} \n;+ Is1 = {I1/exp(Vbe01/26m)}\n;+ Is2 = {I1/exp(Vbe01/26m)}\n+ beta = 100000\n+ R1 = {(Vref-0.6116V-0.2V*ss)/I1}\n+ R2 = 4.307k\n+ ss = 1
TEXT 88 432 Left 2 !.op
TEXT 240 432 Left 2 ;.tran 1m
TEXT 88 400 Left 2 !.step param Vref 0.85 1.6 50m
TEXT 88 488 Left 2 !.TEMP 27
TEXT -736 -544 Left 2 ;Wenn der zwischen Basis und Kollektor kurzgeschlossene \nTransistor Q1 über einen 10k Widerstand an 5V angeschlossen \nwird, misst man bei 27°C eine Basis-Emitterspannung von \nVBEQ1 = 663mV.
TEXT -720 -416 Left 2 !.param Iscalc = 1\n+ Is1 = (5V-Vbe01)/R1*exp(-Vbe01/26m)\n+ Is2 = {3*Is1}
TEXT 88 368 Left 2 ;.step param ss list 0 1
