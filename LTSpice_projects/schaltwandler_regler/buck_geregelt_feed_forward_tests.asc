Version 4
SHEET 1 1836 900
WIRE -336 -688 -352 -688
WIRE -320 -688 -336 -688
WIRE -288 -688 -320 -688
WIRE -336 -656 -352 -656
WIRE -320 -656 -336 -656
WIRE -288 -656 -320 -656
WIRE -336 -624 -352 -624
WIRE -320 -624 -336 -624
WIRE -288 -624 -320 -624
WIRE -336 -592 -352 -592
WIRE -320 -592 -336 -592
WIRE -288 -592 -320 -592
WIRE -336 -560 -352 -560
WIRE -320 -560 -336 -560
WIRE -288 -560 -320 -560
WIRE 336 -432 336 -448
WIRE -320 -352 -352 -352
WIRE -288 -352 -320 -352
WIRE -160 -352 -224 -352
WIRE -144 -352 -160 -352
WIRE -128 -352 -144 -352
WIRE -16 -352 -48 -352
WIRE 0 -352 -16 -352
WIRE 48 -352 0 -352
WIRE 160 -352 128 -352
WIRE 224 -352 192 -352
WIRE 256 -352 224 -352
WIRE 336 -352 336 -368
WIRE 336 -352 288 -352
WIRE 416 -352 336 -352
WIRE 464 -352 416 -352
WIRE -144 -336 -144 -352
WIRE 224 -336 224 -352
WIRE 336 -320 336 -352
WIRE 0 -304 0 -352
WIRE 224 -288 224 -304
WIRE 240 -288 224 -288
WIRE -144 -240 -144 -256
WIRE -96 -240 -96 -304
WIRE -96 -240 -144 -240
WIRE 0 -208 0 -240
WIRE 224 -208 224 -224
WIRE 336 -208 336 -256
WIRE -96 -192 -96 -240
WIRE 416 -192 416 -352
WIRE -48 -160 -64 -160
WIRE 112 -112 64 -112
WIRE 208 -112 192 -112
WIRE 224 -112 208 -112
WIRE 416 -112 416 -144
WIRE 416 -112 304 -112
WIRE -416 -96 -432 -96
WIRE -304 -96 -352 -96
WIRE -256 -96 -304 -96
WIRE -176 -96 -208 -96
WIRE 208 -48 208 -112
WIRE 208 -48 160 -48
WIRE -416 -32 -432 -32
WIRE -304 -32 -352 -32
WIRE -256 -32 -304 -32
WIRE -176 -32 -176 -96
WIRE -176 -32 -208 -32
WIRE -144 -32 -176 -32
WIRE -112 -32 -112 -128
WIRE -112 -32 -144 -32
WIRE -80 -32 -80 -128
WIRE -32 -32 -80 -32
WIRE 64 -32 64 -112
WIRE 64 -32 -32 -32
WIRE 96 -32 64 -32
WIRE 208 -16 160 -16
WIRE 416 0 416 -16
WIRE 208 48 208 -16
WIRE -128 64 -144 64
WIRE -48 64 -64 64
FLAG 0 -208 0
FLAG 224 -208 0
FLAG -96 -240 pwm
FLAG -16 -352 sw
FLAG 464 -352 out
IOPIN 464 -352 Out
FLAG 336 -208 0
FLAG 240 -288 ca
FLAG -48 -160 0
FLAG -160 -352 Ve
FLAG -32 -32 X1
FLAG 208 48 soll
IOPIN 208 48 In
FLAG -320 -656 pk
FLAG -320 -624 pl
FLAG -320 -592 pw
FLAG -320 -688 soll
FLAG -320 -352 Ve0
FLAG -304 -96 saw_a
FLAG -432 -32 0
FLAG -144 -32 saw
FLAG -304 -32 saw_b
FLAG -432 -96 0
FLAG 336 -448 0
FLAG -144 64 0
FLAG -48 64 stimG0
IOPIN -48 64 Out
FLAG 416 0 stimG0
IOPIN 416 0 In
FLAG -320 -560 Cc
DATAFLAG -288 -656 "round(1e3*$)*1e-3"
DATAFLAG -288 -624 "round(1e3*$)*1e-3"
DATAFLAG -288 -592 "round(1e3*$)*1e-3"
DATAFLAG -288 -688 "round(1e3*$)*1e-3"
DATAFLAG 208 -16 ""
DATAFLAG -288 -560 "round(1e3*$)*1e-3"
SYMBOL source-Vmarker -352 -352 R0
SYMATTR Value V={Ve}
SYMATTR InstName U1
SYMBOL ind 32 -336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMATTR SpiceLine Rser=1n
SYMBOL cap 240 -288 M0
WINDOW 0 31 14 Left 2
WINDOW 3 26 55 Left 2
SYMATTR InstName Ca
SYMATTR Value 22µ
SYMBOL schottky 16 -240 R180
WINDOW 0 -18 53 Left 2
WINDOW 3 7 0 Right 2
SYMATTR InstName D1
SYMATTR Value MBR735
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL EIT_Semiconductors\\comp_oc -96 -160 R270
WINDOW 0 -7 -35 Left 2
WINDOW 3 9 26 Invisible 2
SYMATTR InstName U4
SYMBOL res -128 -352 M0
SYMATTR InstName Rpull
SYMATTR Value 4k7
SYMBOL res 208 -128 R90
WINDOW 0 55 63 VBottom 2
WINDOW 3 -29 53 VTop 2
SYMATTR InstName R2
SYMATTR Value {R1*kp}
SYMBOL res 320 -96 M270
WINDOW 0 -22 62 VTop 2
WINDOW 3 60 62 VBottom 2
SYMATTR InstName R3
SYMATTR Value {R1}
SYMBOL MDB_sym\\source-Vmarker -352 -688 M180
SYMATTR Value V={soll}
SYMATTR InstName U8
SYMBOL MDB_sym\\source-Vmarker -352 -656 R0
SYMATTR Value V={pk}
SYMATTR InstName U12
SYMBOL MDB_sym\\source-Vmarker -352 -624 R0
SYMATTR Value V={pl}
SYMATTR InstName U13
SYMBOL MDB_sym\\source-Vmarker -352 -592 R0
SYMATTR Value V={pw}
SYMATTR InstName U14
SYMBOL MDB_sym\\isoR 224 -320 M0
WINDOW 0 9 10 Invisible 2
WINDOW 3 7 2 Left 2
SYMATTR InstName R4
SYMATTR Value 50m
SYMBOL MDB_sym\\isoR 176 -352 R270
WINDOW 0 4 0 VTop 2
SYMATTR InstName R5
SYMATTR Value {Rp}
SYMBOL MDB_sym\\swMDBCirc -96 -352 M180
SYMATTR InstName U3
SYMBOL MDB_sym\\source-Vmini -256 -352 R90
WINDOW 3 -50 66 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 2.5V 5m 1n 0 1)
SYMATTR InstName V1
SYMBOL MDB_sym\\source-BVmini -384 -32 R90
WINDOW 3 45 -68 VTop 2
SYMATTR Value V=V(saw_a) * V(Ve)/V(Ve0)
SYMATTR InstName B1
SYMBOL MDB_sym\\jumperSetable -224 -96 R0
WINDOW 0 -7 -32 Invisible 2
WINDOW 3 -7 15 Center 2
SYMATTR InstName U2
SYMATTR Value cl={1-x}
SYMBOL MDB_sym\\jumperSetable -224 -32 R0
WINDOW 0 -7 -32 Invisible 2
SYMATTR InstName U5
SYMATTR Value cl={x}
SYMBOL MDB_sym\\arrow_curr 272 -352 R270
WINDOW 0 4 0 VTop 2
SYMATTR InstName out
SYMBOL MDB_sym\\source-Vmini -96 64 R90
WINDOW 3 -31 26 VTop 2
WINDOW 123 -55 8 VTop 2
WINDOW 39 -55 -63 VTop 2
SYMATTR Value 0
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=1
SYMATTR InstName V2
SYMBOL MDB_sym\\jumper 480 -160 R90
SYMATTR InstName X2
SYMBOL MDB_sym\\isoRinvisible -64 64 R270
SYMATTR InstName U6
SYMBOL MDB_sym\\isoRinvisible -336 -688 R90
SYMATTR InstName U9
SYMBOL MDB_sym\\isoRinvisible -336 -656 R90
SYMATTR InstName U10
SYMBOL MDB_sym\\isoRinvisible -336 -624 R90
SYMATTR InstName U11
SYMBOL MDB_sym\\isoRinvisible -336 -592 R90
SYMATTR InstName U15
SYMBOL MDB_sym\\source-Vmarker -352 -560 R0
SYMATTR Value V={Cc}
SYMATTR InstName U17
SYMBOL MDB_sym\\isoRinvisible -336 -560 R90
SYMATTR InstName U18
SYMBOL EIT_Semiconductors\\op_3 128 -32 M0
WINDOW 0 -2 29 Left 2
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -16 43 Invisible 2
SYMATTR InstName U20
SYMBOL MDB_hierachical\\sawtoothGen -368 -96 R90
WINDOW 0 -32 16 VBottom 2
SYMATTR InstName X1
SYMBOL MDB_sym\\source-Imini 336 -288 R0
WINDOW 39 0 0 Left 2
SYMATTR Value 0.5A
SYMATTR InstName I1
SYMATTR Value2 ""
SYMBOL MDB_sym\\source-Imini 336 -400 M180
WINDOW 3 21 -6 Left 2
WINDOW 0 21 18 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 .25A 10m 1u 0 1)
SYMATTR InstName I2
SYMATTR Value2 ""
TEXT -408 -776 Left 2 ;_Buckconverter\n_........................
TEXT 128 -968 Left 2 !.param Buck = 1\n+ RL = 20meg\n+ Rp = 0.1\n+ Rs = 0.1\n+ L1 = 33u\n+ Ca = 22u\n+ Vd0 = .4V\n+ Ve = 5V\n+ Vcc = 10V\n+ soll = 3V\n+ pk = {(Va+Vd0)/(Ve+Vd0)}\n+ pw = {if(Ib+.5-Iamin*.999, pk, pl)}\n+ Va = {soll}\n+ Ib = {Iamin*2}\n+ Iamin = 286mA\n+ N = 400
TEXT -128 -488 Left 2 !.tran 15m startup
TEXT -128 -648 Left 2 !.param reg = 0\n+ kp = 1\n+ ki = 0.0001\n+ R1 = 10k\n+ Cc = {1/(R1*ki)}\n.param pl = {sqrt(2*L1/T*(Va+Vd0)/((Ve-Va)*(Ve+Vd0))*Ib)}
TEXT -448 -472 Left 2 ;Nicht-stabilisierte\nVersorgungsspannung
TEXT -424 -296 Left 2 !.param T= 15us \n+ lSaw = 0V\n+ uSaw = 3V\n.step param x list 0 1
TEXT -168 104 Left 2 ;.ac oct 100 10 10meg
TEXT -424 -176 Left 2 !.param x = 0
TEXT -448 -848 Left 2 ;Voltage feed forward Technik
TEXT -136 -456 Left 2 !.option plotwinsize=0
TEXT 80 -496 Left 2 !.op
TEXT 144 -432 Left 2 ;.ic V(ca)=3.75V
RECTANGLE Normal -192 -320 -464 -496 2
RECTANGLE Normal -192 -320 -464 -416 2
RECTANGLE Normal 320 32 32 -176 2
