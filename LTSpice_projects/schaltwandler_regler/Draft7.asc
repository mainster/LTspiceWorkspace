Version 4
SHEET 1 880 680
WIRE -832 -1024 -848 -1024
WIRE -816 -1024 -832 -1024
WIRE -784 -1024 -816 -1024
WIRE -832 -992 -848 -992
WIRE -816 -992 -832 -992
WIRE -784 -992 -816 -992
WIRE -832 -960 -848 -960
WIRE -816 -960 -832 -960
WIRE -784 -960 -816 -960
WIRE -832 -928 -848 -928
WIRE -816 -928 -832 -928
WIRE -784 -928 -816 -928
WIRE -160 -784 -160 -800
WIRE -80 -752 -80 -800
WIRE -816 -688 -864 -688
WIRE -784 -688 -816 -688
WIRE -656 -688 -720 -688
WIRE -640 -688 -656 -688
WIRE -624 -688 -640 -688
WIRE -512 -688 -544 -688
WIRE -496 -688 -512 -688
WIRE -448 -688 -496 -688
WIRE -336 -688 -368 -688
WIRE -272 -688 -304 -688
WIRE -240 -688 -272 -688
WIRE -160 -688 -160 -704
WIRE -160 -688 -208 -688
WIRE -80 -688 -80 -720
WIRE -80 -688 -160 -688
WIRE -32 -688 -80 -688
WIRE -640 -672 -640 -688
WIRE -272 -672 -272 -688
WIRE -160 -656 -160 -688
WIRE -496 -640 -496 -688
WIRE -272 -624 -272 -640
WIRE -256 -624 -272 -624
WIRE -640 -576 -640 -592
WIRE -592 -576 -592 -640
WIRE -592 -576 -640 -576
WIRE -496 -544 -496 -576
WIRE -272 -544 -272 -560
WIRE -160 -544 -160 -576
WIRE -592 -528 -592 -576
WIRE -400 -528 -432 -528
WIRE -336 -528 -368 -528
WIRE -80 -528 -80 -688
WIRE -544 -496 -560 -496
WIRE -432 -448 -432 -528
WIRE -416 -448 -432 -448
WIRE -336 -448 -336 -528
WIRE -336 -448 -352 -448
WIRE -320 -448 -336 -448
WIRE -224 -448 -240 -448
WIRE -208 -448 -224 -448
WIRE -80 -448 -80 -480
WIRE -80 -448 -128 -448
WIRE -912 -432 -928 -432
WIRE -816 -432 -848 -432
WIRE -768 -432 -816 -432
WIRE -688 -432 -720 -432
WIRE -80 -432 -80 -448
WIRE -224 -384 -224 -448
WIRE -224 -384 -272 -384
WIRE -880 -368 -896 -368
WIRE -784 -368 -816 -368
WIRE -752 -368 -784 -368
WIRE -688 -368 -688 -432
WIRE -688 -368 -704 -368
WIRE -640 -368 -688 -368
WIRE -608 -368 -608 -464
WIRE -608 -368 -640 -368
WIRE -576 -368 -576 -464
WIRE -544 -368 -576 -368
WIRE -432 -368 -432 -448
WIRE -432 -368 -544 -368
WIRE -336 -368 -432 -368
WIRE -80 -368 -80 -384
WIRE -224 -352 -272 -352
WIRE -224 -288 -224 -352
WIRE -608 -224 -624 -224
WIRE -528 -224 -544 -224
FLAG -496 -544 0
FLAG -272 -544 0
FLAG -592 -576 pwm
FLAG -512 -688 sw
FLAG -32 -688 out
IOPIN -32 -688 Out
FLAG -160 -544 0
FLAG -256 -624 ca
FLAG -544 -496 0
FLAG -656 -688 Ve
FLAG -544 -368 X1
FLAG -224 -288 soll
IOPIN -224 -288 In
FLAG -816 -992 pk
FLAG -816 -960 pl
FLAG -816 -928 pw
FLAG -816 -1024 soll
FLAG -816 -688 Ve0
FLAG -816 -432 saw_a
FLAG -896 -368 0
FLAG -640 -368 saw
FLAG -784 -368 saw_b
FLAG -928 -432 0
FLAG -160 -800 0
FLAG -624 -224 0
FLAG -528 -224 stimG0
IOPIN -528 -224 Out
FLAG -80 -368 stimG0
IOPIN -80 -368 In
FLAG -80 -800 0
DATAFLAG -784 -992 "round(1e3*$)*1e-3"
DATAFLAG -784 -960 "round(1e3*$)*1e-3"
DATAFLAG -784 -928 "round(1e3*$)*1e-3"
DATAFLAG -784 -1024 "round(1e3*$)*1e-3"
DATAFLAG -224 -352 ""
SYMBOL ind -464 -672 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L1}
SYMATTR SpiceLine Rser=1n
SYMBOL cap -256 -624 M0
WINDOW 0 31 14 Left 2
WINDOW 3 26 55 Left 2
SYMATTR InstName Ca1
SYMATTR Value 22µ
SYMBOL source-I -160 -576 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 -9 Left 2
SYMATTR InstName Ib1
SYMATTR Value {Ib}
SYMATTR SpiceLine load
SYMBOL schottky -480 -576 R180
WINDOW 0 -18 53 Left 2
WINDOW 3 7 0 Right 2
SYMATTR InstName D1
SYMATTR Value MBR735
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL EIT_Semiconductors\\comp_oc -592 -496 R270
WINDOW 0 -7 -35 Left 2
WINDOW 3 9 26 Invisible 2
SYMATTR InstName U2
SYMBOL res -624 -688 M0
SYMATTR InstName Rpull1
SYMATTR Value 4k7
SYMBOL EIT_Semiconductors\\op_3 -304 -368 M0
WINDOW 0 -5 34 Left 2
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -16 43 Invisible 2
SYMATTR InstName U3
SYMATTR Value Vp={Vcc} Vm={-Vcc} Ilim=20m
SYMBOL res -224 -464 R90
WINDOW 0 55 63 VBottom 2
WINDOW 3 -29 53 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1*kp}
SYMBOL res -112 -432 M270
WINDOW 0 -22 62 VTop 2
WINDOW 3 60 62 VBottom 2
SYMATTR InstName R2
SYMATTR Value {R1}
SYMBOL MDB_sym\\source-Vmarker -848 -1024 M180
SYMATTR Value V={soll}
SYMATTR InstName U4
SYMBOL MDB_sym\\source-Vmarker -848 -992 R0
SYMATTR Value V={pk}
SYMATTR InstName U5
SYMBOL MDB_sym\\source-Vmarker -848 -960 R0
SYMATTR Value V={pl}
SYMATTR InstName U6
SYMBOL MDB_sym\\source-Vmarker -848 -928 R0
SYMATTR Value V={pw}
SYMATTR InstName U7
SYMBOL MDB_sym\\isoR -272 -656 M0
WINDOW 0 9 10 Invisible 2
WINDOW 3 7 2 Left 2
SYMATTR InstName R3
SYMATTR Value 50m
SYMBOL MDB_sym\\isoR -320 -688 R270
WINDOW 0 4 0 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rp}
SYMBOL MDB_sym\\swMDBCirc -592 -688 M180
SYMATTR InstName U8
SYMBOL MDB_sym\\source-Vmini -752 -688 R90
WINDOW 3 -50 66 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 -24 66 VTop 2
SYMATTR Value PULSE(0 2.5V 5m 1n 0 1)
SYMATTR InstName V1
SYMBOL MDB_sym\\source-BVmini -848 -368 R90
WINDOW 3 45 -68 VTop 2
SYMATTR Value V=V(saw_a) * V(Ve)/V(Ve0)
SYMATTR InstName B1
SYMBOL MDB_sym\\jumperSetable -736 -432 R0
WINDOW 0 -7 -32 Invisible 2
WINDOW 3 -7 15 Center 2
SYMATTR InstName U9
SYMATTR Value cl={1-x}
SYMBOL MDB_sym\\jumperSetable -720 -368 R0
WINDOW 0 -7 -32 Invisible 2
SYMATTR InstName U10
SYMATTR Value cl={x}
SYMBOL source-I -160 -784 R0
WINDOW 0 29 73 Left 2
WINDOW 3 -149 -56 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 29 -9 Left 2
SYMATTR InstName Ib2
SYMATTR Value PULSE(0 0.5A 10m 10n 10n 100u 5m)
SYMATTR SpiceLine load
SYMBOL MDB_sym\\arrow_curr -224 -688 R270
WINDOW 0 4 0 VTop 2
SYMATTR InstName out1
SYMBOL MDB_sym\\source-Vmini -576 -224 R90
WINDOW 3 -31 26 VTop 2
WINDOW 123 -55 8 VTop 2
WINDOW 39 22 -7 VTop 2
SYMATTR Value 0
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=1
SYMATTR InstName V2
SYMBOL MDB_sym\\jumper -16 -496 R90
SYMATTR InstName X1
SYMBOL MDB_sym\\isoRinvisible -544 -224 R270
SYMATTR InstName U11
SYMBOL MDB_sym\\isoRinvisible -832 -1024 R90
SYMATTR InstName U12
SYMBOL MDB_sym\\isoRinvisible -832 -992 R90
SYMATTR InstName U13
SYMBOL MDB_sym\\isoRinvisible -832 -960 R90
SYMATTR InstName U14
SYMBOL MDB_sym\\isoRinvisible -832 -928 R90
SYMATTR InstName U15
SYMBOL MDB_sym\\source-Vmini -880 -432 R90
WINDOW 3 -51 18 VTop 2
WINDOW 123 -55 8 VTop 2
WINDOW 39 22 -7 VTop 2
SYMATTR Value PULSE({lSaw} {uSaw} 0 {.90*T} {.10*T} 0 {T})
SYMATTR InstName V3
SYMBOL MDB_sym\\source-Vmarker -864 -688 M180
SYMATTR Value V={Ve}
SYMATTR InstName U1
SYMBOL cap -352 -464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10p
SYMATTR SpiceLine Rpar=1k
SYMBOL MDB_sym\\isoR -384 -528 R90
WINDOW 0 -4 0 VBottom 2
WINDOW 3 30 -1 VBottom 2
SYMATTR InstName R5
SYMATTR Value 500k
TEXT -904 -1112 Left 2 ;_Buckconverter\n_........................
TEXT 200 -752 Left 2 !.param Buck = 1\n+ RL = 20meg\n+ Rp = 0.1\n+ Rs = 0.1\n+ L1 = 33u\n+ Ca = 22u\n+ Vd0 = .4V\n+ Ve = 5V\n+ Vcc = 10V\n+ soll = 3V\n+ pk = {(Va+Vd0)/(Ve+Vd0)}\n+ pw = {if(Ib+.5-Iamin*.999, pk, pl)}\n+ Va = {soll}\n+ Ib = {Iamin*2}\n+ Iamin = 286mA\n+ N = 400
TEXT -624 -824 Left 2 !.tran 15m startup
TEXT -624 -984 Left 2 !.param reg = 0\n+ kp = 1\n+ ki = 0.0001\n+ R1 = 10k\n.param pl = {sqrt(2*L1/T*(Va+Vd0)/((Ve-Va)*(Ve+Vd0))*Ib)}
TEXT -944 -808 Left 2 ;Nicht-stabilisierte\nVersorgungsspannung
TEXT -920 -632 Left 2 !.param T= 15us \n+ lSaw = 0V\n+ uSaw = 3V\n;.step param x list 0 1
TEXT -912 -232 Left 2 ;.ac oct 100 10 10meg
TEXT -920 -512 Left 2 !.param x = 1
TEXT -944 -1184 Left 2 ;Voltage feed forward Technik
TEXT -632 -792 Left 2 !.option plotwinsize=0
TEXT -984 -152 Left 2 ;PULSE({lSaw} {uSaw} 0 {.90*T} {.10*T} 0 {T})
TEXT -416 -832 Left 2 !.op
RECTANGLE Normal -688 -656 -960 -832 2
RECTANGLE Normal -688 -656 -960 -752 2
RECTANGLE Normal -112 -304 -496 -512 2
