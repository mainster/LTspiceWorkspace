Version 4
SHEET 1 880 680
WIRE -384 -528 -432 -528
WIRE -368 -528 -384 -528
WIRE -256 -528 -256 -560
WIRE -64 -528 -64 -560
WIRE 288 -528 288 -560
WIRE 672 -528 672 -560
WIRE 96 -512 96 -560
WIRE 416 -512 416 -560
WIRE -160 -480 -192 -480
WIRE -128 -480 -160 -480
WIRE 224 -480 192 -480
WIRE 608 -480 576 -480
WIRE -256 -400 -256 -432
WIRE -160 -400 -160 -480
WIRE -160 -400 -256 -400
WIRE 96 -400 96 -448
WIRE 160 -400 96 -400
WIRE 192 -400 192 -480
WIRE 192 -400 160 -400
WIRE 416 -400 416 -448
WIRE 480 -400 416 -400
WIRE 576 -400 576 -480
WIRE 576 -400 560 -400
WIRE -256 -368 -256 -400
WIRE 96 -368 96 -400
WIRE 416 -368 416 -400
WIRE -464 -304 -512 -304
WIRE -416 -304 -464 -304
WIRE -64 -304 -64 -432
WIRE 288 -304 288 -432
WIRE 672 -304 672 -432
WIRE -416 -288 -416 -304
WIRE -512 -256 -512 -304
WIRE -256 -256 -256 -288
WIRE 96 -256 96 -288
WIRE 416 -256 416 -288
WIRE -416 -192 -416 -208
WIRE -64 -192 -64 -224
WIRE 288 -192 288 -224
WIRE 672 -192 672 -224
WIRE -512 -144 -512 -176
WIRE -48 -32 -64 -32
WIRE -16 -32 -48 -32
WIRE -240 0 -272 0
WIRE -208 0 -240 0
WIRE -64 16 -64 -32
WIRE -64 128 -64 96
FLAG -256 -256 0
FLAG -64 -560 V+
FLAG -256 -560 V+
FLAG -64 -192 0
FLAG -384 -528 V+
FLAG -512 -144 0
FLAG -464 -304 IR2calc
FLAG -160 -480 B
FLAG 96 -256 0
FLAG 288 -560 V+
FLAG 96 -560 V+
FLAG 288 -192 0
FLAG -240 0 Is
FLAG -416 -192 0
FLAG -64 128 0
FLAG 160 -400 BD
FLAG -48 -32 dB
FLAG 416 -256 0
FLAG 672 -560 V+
FLAG 416 -560 V+
FLAG 672 -192 0
SYMBOL EIT_Semiconductors\\pnp -128 -432 M180
WINDOW 3 -86 139 Left 2
SYMATTR Value BC327-40
SYMATTR InstName Q1
SYMBOL EIT_Semiconductors\\pnp -192 -432 R180
WINDOW 3 -79 115 Left 2
SYMATTR Value BC327-40
SYMATTR InstName Q2
SYMBOL res -272 -384 R0
WINDOW 0 25 19 Left 2
WINDOW 3 23 104 Left 2
SYMATTR InstName R1
SYMATTR Value {Rtest}
SYMBOL res -80 -320 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL source-Vmarker -432 -528 R0
WINDOW 3 -53 -1 Center 2
SYMATTR Value V={Vplus}
SYMATTR InstName U1
SYMBOL bv -512 -272 R0
SYMATTR InstName B1
SYMATTR Value V=( (V(V+)-V(V+,B))/Rtest-Ie(Q2) )*450
SYMBOL EIT_Semiconductors\\pnp 224 -432 M180
WINDOW 3 -86 139 Left 2
SYMATTR Value BC327-40
SYMATTR InstName Q3
SYMBOL res 80 -384 R0
WINDOW 0 25 19 Left 2
WINDOW 3 23 104 Left 2
SYMATTR InstName R3
SYMATTR Value {Rtest}
SYMBOL res 272 -320 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL diode 80 -512 R0
SYMATTR InstName D1
SYMATTR Value Dx
SYMBOL source-Vmarker -272 0 R0
WINDOW 3 -57 60 Center 2
SYMATTR Value V={Id0*exp(-Vf/26m)}
SYMATTR InstName U2
SYMBOL res -432 -304 R0
SYMATTR InstName RIR2calc
SYMATTR Value 1
SYMBOL bv -64 0 R0
SYMATTR InstName B2
SYMATTR Value V=abs(V(BD)-V(B))
SYMBOL EIT_Semiconductors\\pnp 608 -432 M180
WINDOW 3 -86 139 Left 2
SYMATTR Value BC327-40
SYMATTR InstName Q4
SYMBOL res 400 -384 R0
WINDOW 0 25 19 Left 2
WINDOW 3 23 104 Left 2
SYMATTR InstName R5
SYMATTR Value {Rtest}
SYMBOL res 656 -320 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL diode 400 -512 R0
SYMATTR InstName D2
SYMATTR Value Dx
SYMBOL bv 464 -400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName B3
SYMATTR Value V=V(dB)
TEXT -320 -144 Left 2 !.param Rtest=37k
TEXT -536 -576 Left 2 !.tran 50m startup
TEXT -544 -440 Left 2 !.param Vplus = 10V
TEXT 40 -88 Left 2 !.model Dx D(Is={Id0*exp(-Vf/26m)} )
TEXT 40 -32 Left 2 !.param Id0 = 254.77u\n.param Vf = 0.54545
TEXT 448 16 Left 2 !.TEMP 27
