Version 4
SHEET 1 1460 680
WIRE -1280 -1264 -1312 -1264
WIRE -1152 -1264 -1184 -1264
WIRE -1312 -1216 -1312 -1264
WIRE -1184 -1216 -1184 -1264
WIRE -448 -1200 -480 -1200
WIRE -1312 -1120 -1312 -1136
WIRE -1184 -1120 -1184 -1136
WIRE -528 -1120 -560 -1120
WIRE -352 -1120 -416 -1120
WIRE -528 -1088 -560 -1088
WIRE -352 -1088 -416 -1088
WIRE -528 -1056 -560 -1056
WIRE -352 -1056 -416 -1056
WIRE -528 -1024 -560 -1024
WIRE -352 -1024 -416 -1024
WIRE -1504 -1008 -1536 -1008
WIRE -528 -992 -560 -992
WIRE -352 -992 -416 -992
WIRE -528 -960 -560 -960
WIRE -352 -960 -416 -960
WIRE -1536 -928 -1536 -1008
WIRE -960 -928 -976 -928
WIRE -784 -928 -880 -928
WIRE -656 -928 -704 -928
WIRE -528 -928 -560 -928
WIRE -352 -928 -416 -928
WIRE -1088 -896 -1136 -896
WIRE -528 -896 -560 -896
WIRE -352 -896 -416 -896
WIRE -1024 -880 -1040 -880
WIRE -960 -880 -1024 -880
WIRE -864 -880 -880 -880
WIRE -672 -880 -704 -880
WIRE -1088 -864 -1120 -864
WIRE -528 -864 -560 -864
WIRE -352 -864 -416 -864
WIRE -1536 -832 -1536 -848
WIRE -1024 -832 -1024 -880
WIRE -816 -832 -816 -880
WIRE -816 -832 -1024 -832
WIRE -528 -832 -560 -832
WIRE -352 -832 -416 -832
WIRE -1120 -800 -1120 -864
WIRE -672 -800 -672 -880
WIRE -672 -800 -1120 -800
WIRE -352 -800 -416 -800
WIRE -736 -720 -784 -720
WIRE -1264 -688 -1296 -688
WIRE -1248 -688 -1264 -688
WIRE -784 -672 -784 -720
WIRE -784 -672 -816 -672
WIRE -768 -672 -784 -672
WIRE -544 -672 -560 -672
WIRE -512 -672 -544 -672
WIRE -288 -672 -384 -672
WIRE -272 -672 -288 -672
WIRE -1264 -656 -1296 -656
WIRE -1248 -656 -1264 -656
WIRE -768 -640 -816 -640
WIRE -288 -640 -384 -640
WIRE -272 -640 -288 -640
WIRE -1264 -624 -1296 -624
WIRE -1248 -624 -1264 -624
WIRE -768 -608 -816 -608
WIRE -288 -608 -384 -608
WIRE -272 -608 -288 -608
WIRE -1424 -592 -1488 -592
WIRE -1264 -592 -1296 -592
WIRE -944 -576 -1008 -576
WIRE -768 -576 -816 -576
WIRE -512 -576 -576 -576
WIRE -288 -576 -384 -576
WIRE -272 -576 -288 -576
WIRE -1264 -560 -1264 -592
WIRE -1248 -560 -1264 -560
WIRE -1504 -544 -1520 -544
WIRE -1424 -544 -1440 -544
WIRE -1168 -544 -1200 -544
WIRE -1440 -528 -1440 -544
WIRE -1440 -528 -1456 -528
WIRE -1264 -528 -1264 -560
WIRE -1248 -528 -1264 -528
WIRE -1504 -512 -1520 -512
WIRE -1520 -464 -1520 -512
WIRE -1168 -464 -1168 -544
WIRE -1168 -464 -1520 -464
WIRE -1104 -464 -1168 -464
WIRE -1296 -336 -1296 -352
WIRE -1040 -336 -1040 -352
WIRE -784 -336 -784 -352
WIRE -528 -336 -528 -352
WIRE -1296 -288 -1296 -304
WIRE -1216 -288 -1296 -288
WIRE -1040 -288 -1040 -304
WIRE -960 -288 -1040 -288
WIRE -784 -288 -784 -304
WIRE -704 -288 -784 -288
WIRE -528 -288 -528 -304
WIRE -448 -288 -528 -288
WIRE -1296 -272 -1296 -288
WIRE -1040 -272 -1040 -288
WIRE -784 -272 -784 -288
WIRE -528 -272 -528 -288
WIRE -1328 -256 -1440 -256
WIRE -1072 -256 -1184 -256
WIRE -816 -256 -928 -256
WIRE -560 -256 -672 -256
WIRE -1328 -240 -1328 -256
WIRE -1072 -240 -1072 -256
WIRE -816 -240 -816 -256
WIRE -560 -240 -560 -256
WIRE -1312 -160 -1312 -192
WIRE -1056 -160 -1056 -192
WIRE -800 -160 -800 -192
WIRE -544 -160 -544 -192
WIRE -320 -160 -320 -208
WIRE -1536 -128 -1568 -128
WIRE -1376 -128 -1536 -128
WIRE -1120 -128 -1248 -128
WIRE -864 -128 -992 -128
WIRE -608 -128 -736 -128
WIRE -384 -128 -480 -128
WIRE -224 -128 -256 -128
WIRE -1536 -96 -1536 -128
WIRE -1376 -96 -1408 -96
WIRE -1120 -96 -1152 -96
WIRE -864 -96 -896 -96
WIRE -608 -96 -640 -96
WIRE -384 -96 -416 -96
WIRE -1312 -16 -1312 -48
WIRE -1056 -16 -1056 -48
WIRE -800 -16 -800 -48
WIRE -544 -16 -544 -48
WIRE -320 -16 -320 -48
WIRE -1536 0 -1536 -16
WIRE -1296 64 -1296 32
WIRE -1216 64 -1216 -288
WIRE -1216 64 -1296 64
WIRE -1040 64 -1040 32
WIRE -960 64 -960 -288
WIRE -960 64 -1040 64
WIRE -784 64 -784 32
WIRE -704 64 -704 -288
WIRE -704 64 -784 64
WIRE -528 64 -528 32
WIRE -448 64 -448 -288
WIRE -448 64 -528 64
WIRE -1632 80 -1648 80
WIRE -1568 80 -1632 80
WIRE -1520 80 -1536 80
WIRE -1440 80 -1440 -256
WIRE -1440 80 -1488 80
WIRE -1328 80 -1328 32
WIRE -1328 80 -1440 80
WIRE -1184 80 -1184 -256
WIRE -1184 80 -1328 80
WIRE -1072 80 -1072 32
WIRE -1072 80 -1184 80
WIRE -928 80 -928 -256
WIRE -928 80 -1072 80
WIRE -816 80 -816 32
WIRE -816 80 -928 80
WIRE -672 80 -672 -256
WIRE -672 80 -816 80
WIRE -560 80 -560 32
WIRE -560 80 -672 80
WIRE -1520 128 -1520 80
WIRE -1504 128 -1520 128
WIRE -1632 144 -1648 144
WIRE -1616 144 -1632 144
WIRE -1408 144 -1408 -96
WIRE -1408 144 -1456 144
WIRE -1152 144 -1152 -96
WIRE -1152 144 -1408 144
WIRE -896 144 -896 -96
WIRE -896 144 -1152 144
WIRE -640 144 -640 -96
WIRE -640 144 -896 144
WIRE -496 144 -640 144
WIRE -416 144 -416 -96
WIRE -416 144 -464 144
WIRE -1504 160 -1552 160
FLAG -448 -1200 +5V
FLAG -1184 -1120 0
FLAG -576 -576 clk4k
FLAG -1632 144 CP
FLAG -1632 80 PL
FLAG -1568 -128 DS
FLAG -1296 -352 D0
IOPIN -1296 -352 BiDir
FLAG -1040 -352 D1
IOPIN -1040 -352 BiDir
FLAG -784 -352 D2
IOPIN -784 -352 BiDir
FLAG -528 -352 D3
IOPIN -528 -352 BiDir
FLAG -288 -672 D0
FLAG -288 -640 D1
FLAG -288 -608 D2
FLAG -288 -576 D3
FLAG -560 -928 D0
FLAG -560 -896 D1
FLAG -560 -864 D2
FLAG -560 -832 D3
FLAG -352 -928 D0!
FLAG -352 -896 D1!
FLAG -352 -864 D2!
FLAG -352 -832 D3!
FLAG -352 -800 clk_ma!
FLAG -224 -128 Y
IOPIN -224 -128 Out
FLAG -1312 -1120 0
FLAG -1312 -1264 clk_ma
FLAG -1168 -1280 PL
FLAG -1008 -576 clk_ma
IOPIN -1008 -576 In
FLAG -768 -640 clk2k
FLAG -768 -608 clk4k
FLAG -768 -576 clk8k
FLAG -768 -672 clk1k
FLAG -736 -720 CP
FLAG -1104 -464 PL
IOPIN -1104 -464 Out
FLAG -352 -960 Y!
FLAG -352 -1024 PL!
FLAG -352 -992 CP!
FLAG -560 -960 Y
FLAG -560 -992 CP
FLAG -560 -1024 PL
FLAG -528 -800 clk_ma
FLAG -1136 -896 clk_ma
FLAG -544 -672 PRE1
FLAG -672 -880 PRE1
FLAG -864 -880 RES
FLAG -944 -528 RES
FLAG -512 -528 RES
FLAG -1488 -592 clk1k
FLAG -1520 -544 RES
FLAG -1264 -688 c0
FLAG -1264 -656 c1
FLAG -352 -1088 c1!
FLAG -352 -1056 c0!
FLAG -560 -1056 c0
FLAG -560 -1088 c1
FLAG -1264 -624 c2
FLAG -352 -1120 c2!
FLAG -560 -1120 c2
FLAG -1536 -832 0
FLAG -1504 -1008 PAR
IOPIN -1504 -1008 Out
SYMBOL source-V -1184 -1232 R0
WINDOW 3 -4 150 Left 2
SYMATTR Value PULSE({VDIG} 0 {DELAY} 10n 10n {1/(2*fclk)} {1/fclk})
SYMATTR InstName V1
SYMBOL source-Vmarker -480 -1200 R0
SYMATTR InstName U8
SYMBOL EIT_Digital\\bin_up_counter -512 -672 R0
SYMATTR InstName U3
SYMBOL EIT_Digital\\level-high -512 -624 R0
SYMATTR InstName U7
SYMBOL EIT_Digital\\probe_dig -528 -816 R0
SYMATTR Value T=0
SYMATTR InstName U14
SYMBOL EIT_Digital\\DFF_RS -1312 -160 R0
WINDOW 3 7 127 Invisible 2
WINDOW 38 4 -34 Invisible 2
SYMATTR InstName U2
SYMBOL MDB_sym\\AND2s -1312 -224 R90
SYMATTR InstName U18
SYMBOL MDB_sym\\inv4 -1232 -288 R90
SYMATTR InstName U19
SYMBOL MDB_sym\\inv4 -1232 -352 R90
SYMATTR InstName U20
SYMBOL MDB_sym\\AND2s -1312 16 R270
SYMATTR InstName U21
SYMBOL MDB_sym\\inv4 -1584 16 R0
SYMATTR InstName U22
SYMBOL MDB_sym\\inv4 -1536 16 R0
SYMATTR InstName U23
SYMBOL EIT_Digital\\schmitt-trigger-single -1616 80 R0
SYMATTR InstName U24
SYMBOL MDB_sym\\AND2s -1488 144 R0
SYMATTR InstName U30
SYMBOL EIT_Digital\\DFF_RS -1056 -160 R0
WINDOW 3 7 127 Invisible 2
WINDOW 38 4 -34 Invisible 2
SYMATTR InstName U16
SYMBOL MDB_sym\\AND2s -1056 -224 R90
SYMATTR InstName U17
SYMBOL MDB_sym\\inv4 -976 -288 R90
SYMATTR InstName U32
SYMBOL MDB_sym\\inv4 -976 -352 R90
SYMATTR InstName U33
SYMBOL MDB_sym\\AND2s -1056 16 R270
SYMATTR InstName U34
SYMBOL EIT_Digital\\DFF_RS -800 -160 R0
WINDOW 3 7 127 Invisible 2
WINDOW 38 4 -34 Invisible 2
SYMATTR InstName U35
SYMBOL MDB_sym\\AND2s -800 -224 R90
SYMATTR InstName U36
SYMBOL MDB_sym\\inv4 -720 -288 R90
SYMATTR InstName U37
SYMBOL MDB_sym\\inv4 -720 -352 R90
SYMATTR InstName U38
SYMBOL MDB_sym\\AND2s -800 16 R270
SYMATTR InstName U39
SYMBOL EIT_Digital\\DFF_RS -544 -160 R0
WINDOW 3 7 127 Invisible 2
WINDOW 38 4 -34 Invisible 2
SYMATTR InstName U40
SYMBOL MDB_sym\\AND2s -544 -224 R90
SYMATTR InstName U41
SYMBOL MDB_sym\\inv4 -464 -288 R90
SYMATTR InstName U42
SYMBOL MDB_sym\\inv4 -464 -352 R90
SYMATTR InstName U43
SYMBOL MDB_sym\\AND2s -544 16 R270
SYMATTR InstName U44
SYMBOL res -1552 -112 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL EIT_Digital\\level-low -1536 0 R270
SYMATTR InstName U45
SYMBOL source-V -1312 -1232 R0
WINDOW 3 -2 186 Left 2
SYMATTR Value PULSE({VDIG} 0 {DELAY} 10n 10n {1/(2*fclk)} {1/fclk})
SYMATTR InstName V2
SYMBOL EIT_Digital\\bin_up_counter -944 -672 R0
SYMATTR InstName U4
SYMBOL EIT_Digital\\level-high -944 -624 R0
SYMATTR InstName U47
SYMBOL EIT_Digital\\probe_dig -528 -976 R0
SYMATTR Value T=5
SYMATTR InstName U25
SYMBOL EIT_Digital\\probe_dig -528 -1040 R0
SYMATTR Value T=7
SYMATTR InstName U26
SYMBOL EIT_Digital\\probe_dig -528 -1008 R0
SYMATTR Value T=6
SYMATTR InstName U28
SYMBOL EIT_Digital\\probe_dig -528 -816 M180
SYMATTR Value T=4
SYMATTR InstName U1
SYMBOL EIT_Digital\\probe_dig -528 -848 M180
SYMATTR Value T=3
SYMATTR InstName U15
SYMBOL EIT_Digital\\probe_dig -528 -880 M180
SYMATTR Value T=2
SYMATTR InstName U27
SYMBOL EIT_Digital\\probe_dig -528 -912 M180
SYMATTR Value T=1
SYMATTR InstName U29
SYMBOL MDB_sym\\AND2s -1072 -880 R0
SYMATTR InstName U12
SYMBOL EIT_Digital\\level-high -976 -928 R0
SYMATTR InstName U13
SYMBOL MDB_sym\\inv4 -832 -944 R0
SYMATTR InstName U49
SYMBOL MDB_sym\\DFFs -896 -944 R0
SYMATTR InstName U10
SYMBOL MDB_sym\\DFFs -720 -944 R0
SYMATTR InstName U46
SYMBOL EIT_Digital\\level-low -944 -672 R0
SYMATTR InstName U6
SYMBOL EIT_Digital\\bin_up_counter -1424 -688 R0
SYMATTR InstName U9
SYMBOL EIT_Digital\\level-high -1424 -640 R0
SYMATTR InstName U11
SYMBOL EIT_Digital\\level-low -1424 -688 R0
SYMATTR InstName U31
SYMBOL MDB_sym\\AND2s -1232 -544 R0
SYMATTR InstName U48
SYMBOL MDB_sym\\OR2s -1488 -528 R0
SYMATTR InstName U50
SYMBOL EIT_Digital\\probe_dig -528 -1104 R0
SYMATTR Value T=9
SYMATTR InstName U51
SYMBOL EIT_Digital\\probe_dig -528 -1072 R0
SYMATTR Value T=8
SYMATTR InstName U52
SYMBOL EIT_Digital\\DFF_RS -320 -160 R0
WINDOW 3 7 127 Invisible 2
WINDOW 38 4 -34 Invisible 2
SYMATTR InstName U53
SYMBOL EIT_Digital\\level-low -320 -16 R0
SYMATTR InstName U54
SYMBOL EIT_Digital\\level-low -320 -208 R0
SYMATTR InstName U55
SYMBOL MDB_sym\\inv4 -512 80 R0
SYMATTR InstName U56
SYMBOL EIT_Digital\\probe_dig -528 -1136 R0
SYMATTR Value T=10
SYMATTR InstName U57
SYMBOL bv -1536 -944 R0
WINDOW 0 23 22 Left 2
WINDOW 3 -46 144 Left 2
SYMATTR InstName B1
SYMATTR Value V=V(P0)+2*V(P1)+4*V(P2)+8*V(P3)
TEXT -1024 -1184 Left 2 !.tran {160*8*1/fclk+DELAY} startup
TEXT -1024 -1136 Left 2 !.lib cd4000.lib
TEXT -1024 -1384 Left 2 !.param fclk = 2k\n.param N = 32\n.param NN = 8\n.param DELAY = 1m\n.param vpwr$_digital=5V\n.param VDIG = 5V
