Version 4
SHEET 1 1088 680
WIRE -208 80 -272 80
WIRE -176 80 -208 80
WIRE -64 80 -96 80
WIRE -32 80 -64 80
WIRE 64 80 32 80
WIRE 112 80 64 80
WIRE 144 80 112 80
WIRE -272 160 -272 80
WIRE 64 160 64 80
WIRE 144 160 144 80
WIRE -272 304 -272 240
WIRE 64 304 64 240
WIRE 144 304 144 240
FLAG -272 304 0
FLAG -32 240 0
FLAG -208 80 in
FLAG 64 304 0
FLAG 144 304 0
FLAG 112 80 out
FLAG -64 80 uc
SYMBOL res -80 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL voltage -272 144 R0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 7.9
SYMATTR InstName V1
SYMATTR Value SINE(0 7.9 8k 0 0 0)
SYMBOL cap -32 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 18n
SYMBOL ind 48 144 R0
SYMATTR InstName L1
SYMATTR Value 20m
SYMBOL res 128 144 R0
SYMATTR InstName R2
SYMATTR Value 2k
TEXT -304 328 Left 2 !.tran 5m
TEXT -872 160 Left 2 !.MEAS TRAN Vout_rms RMS V(out)*sqrt(2) \n+ TRIG V(in) VAL=1 TD=1u Fall 10\n+ TARG V(in) VAL=1 TD=1u Fall 30\n.MEAS TRAN Vuc_rms RMS V(uc) \n+ TRIG V(in) VAL=1 TD=1u Fall 10\n+ TARG V(in) VAL=1 TD=1u Fall 30\n.MEAS TRAN diff_rms PARAM Vuc_rms-Vout_rms
TEXT -1200 -96 Left 2 ;.MEAS TRAN t2 V(Out_Osc) WHEN V(Out_Osc) = {Vdd*3/5} rise=10\n.MEAS TRAN t1 V(Out_Osc) WHEN V(Out_Osc) = {Vdd*3/5} rise=9\n.MEAS TRAN freq1 PARAM 1/(t2-t1)
TEXT -424 -88 Left 2 ;.MEAS TRAN res7 AVG V(out) \n+ TRIG V(in) VAL=1.5 TD=1.1u FALL=1 \n+ TARG V(in) VAL=1.5 TD=1.1u FALL=10
TEXT -1376 176 Left 2 !.MEAS TRAN Vout_avg ACG V(out) \n+ TRIG V(in) VAL=1 TD=1u Fall 10\n+ TARG V(in) VAL=1 TD=1u Fall 30\n.MEAS TRAN Vuc_avg AVG V(uc) \n+ TRIG V(in) VAL=1 TD=1u Fall 10\n+ TARG V(in) VAL=1 TD=1u Fall 30\n.MEAS TRAN diff_avg PARAM Vuc_avg-Vout_avg
TEXT -752 112 Left 2 !.SPICE Error Log Command
