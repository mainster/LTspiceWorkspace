Version 4
SHEET 1 1040 680
WIRE 0 -32 -112 -32
WIRE 96 -32 0 -32
WIRE -112 -16 -112 -32
WIRE 96 0 96 -32
WIRE 0 16 -48 16
WIRE 32 16 0 16
WIRE 32 64 16 64
WIRE -112 80 -112 64
WIRE 16 96 16 64
WIRE 96 112 96 80
WIRE 96 112 64 112
WIRE 144 112 96 112
WIRE 176 112 144 112
WIRE 304 112 256 112
WIRE 368 112 304 112
WIRE 400 112 368 112
WIRE 512 112 400 112
WIRE 400 128 400 112
WIRE -48 144 -48 16
WIRE 96 144 96 112
WIRE 512 160 512 112
WIRE 672 160 592 160
WIRE 592 208 592 160
WIRE 96 224 96 208
WIRE 400 224 400 208
WIRE -48 240 -48 224
WIRE 304 272 304 256
WIRE 512 272 512 240
WIRE 592 304 592 288
WIRE 112 432 80 432
WIRE 176 432 112 432
WIRE 304 432 256 432
WIRE 368 432 304 432
WIRE 400 432 368 432
WIRE 512 432 400 432
WIRE 304 448 304 432
WIRE 400 448 400 432
WIRE 80 464 80 432
WIRE 512 480 512 432
WIRE 304 544 304 528
WIRE 400 544 400 528
WIRE 80 576 80 544
WIRE 512 592 512 560
WIRE 304 624 304 608
FLAG 304 272 0
FLAG 400 224 0
FLAG 96 224 0
FLAG -112 80 0
FLAG -48 240 0
FLAG 16 96 0
FLAG 144 112 s
FLAG 368 112 out
FLAG 0 -32 e
FLAG 0 16 crtl
FLAG 592 304 0
FLAG 512 272 0
FLAG 304 624 0
FLAG 400 544 0
FLAG 368 432 out_lin
FLAG 512 592 0
FLAG 80 576 0
FLAG 112 432 slin
SYMBOL ind 160 128 R270
WINDOW 0 30 56 VTop 2
WINDOW 3 6 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 50µ
SYMBOL cap 288 192 R0
WINDOW 3 -114 41 Left 2
SYMATTR Value {ca} IC=5
SYMATTR InstName C1
SYMBOL res 384 112 R0
SYMATTR InstName R1
SYMATTR Value {RL}
SYMBOL diode 112 208 R180
WINDOW 0 -44 35 Left 2
WINDOW 3 -56 4 Left 2
SYMATTR InstName D1
SYMATTR Value my_d
SYMBOL crtl-V-S 96 -16 R0
SYMATTR InstName S1
SYMATTR Value my_sw
SYMBOL source-V -112 -32 R0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL source-V -48 128 R0
WINDOW 3 -114 152 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 2.5 1u 1p 1p {p*Tper} {Tper})
SYMATTR InstName Vst
SYMBOL source-V 592 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 1 1meg)
SYMBOL source-I 512 240 R180
WINDOW 0 29 73 Left 2
WINDOW 3 22 -52 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 500m 5m)
SYMBOL ind 160 448 R270
WINDOW 0 30 56 VTop 2
WINDOW 3 6 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 50µ
SYMBOL cap 288 544 R0
WINDOW 3 -63 67 Left 2
SYMATTR Value {ca} IC=5
SYMATTR InstName C2
SYMBOL res 384 432 R0
SYMATTR InstName R2
SYMATTR Value {RL}
SYMBOL source-I 512 560 R180
WINDOW 0 29 73 Left 2
WINDOW 3 -90 -65 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I2
SYMATTR Value PULSE(0 500m 5m)
SYMBOL source-V 80 448 R0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 288 96 R0
SYMATTR InstName R3
SYMATTR Value 0.2
SYMBOL res 288 432 R0
SYMATTR InstName R4
SYMATTR Value 0.2
TEXT 160 24 Left 2 !.model my_D D(Ron=1m Roff=1T Vfwd=0.4)
TEXT 160 -8 Left 2 !.model my_sw SW(Ron=1m Roff=1T Vt=1.25 Vh=-0.5)
TEXT 488 128 Left 2 ;VA=5V
TEXT 240 56 Left 2 ;P=(VA+VD0)/(VE+VD0)=5,4/15,4=0.35064935064935064935
TEXT -160 360 Left 2 !.param p=0.35064935064935064935 Tper=20u ca=100u RL=5
TEXT -136 320 Left 2 ;IAmin=700mA -> RL=5/0,7=7,13Ohm
TEXT -32 -104 Left 2 !.tran 0 10m 0 0.1u
TEXT 120 -64 Left 2 ;.step param ca list 22u 33u 47u 100u
TEXT 168 -32 Left 2 ;.step param RL list 4 5 6 7
TEXT 640 424 Left 2 !.step param ca list 100u 470u
