Version 4
SHEET 1 1848 1588
WIRE 192 80 32 80
WIRE 352 80 192 80
WIRE 448 80 352 80
WIRE 592 80 528 80
WIRE 768 80 592 80
WIRE 32 96 32 80
WIRE 592 128 592 80
WIRE 352 208 352 80
WIRE 480 208 352 208
WIRE 592 224 592 192
WIRE 592 224 544 224
WIRE 0 240 -32 240
WIRE 32 240 32 176
WIRE 32 240 0 240
WIRE 480 240 448 240
WIRE 192 256 192 80
WIRE 448 256 448 240
WIRE -96 288 -96 240
WIRE -96 288 -112 288
WIRE 592 288 592 224
WIRE 1104 288 1072 288
WIRE 1216 288 1184 288
WIRE 1248 288 1216 288
WIRE 1280 288 1248 288
WIRE -96 304 -96 288
WIRE 1216 320 1216 288
WIRE 768 336 768 80
WIRE 800 336 768 336
WIRE 912 336 880 336
WIRE 448 352 448 336
WIRE -96 400 -96 384
WIRE 1216 400 1216 384
WIRE 352 416 352 208
WIRE 432 416 352 416
WIRE 592 416 592 352
WIRE 592 416 512 416
WIRE 688 416 592 416
WIRE 800 432 720 432
WIRE 912 432 912 336
WIRE 912 432 880 432
WIRE 944 432 912 432
WIRE 1072 432 1072 288
WIRE 1072 432 1024 432
WIRE 1248 480 1200 480
WIRE 1312 480 1248 480
WIRE 912 512 912 432
WIRE 960 512 912 512
WIRE 1072 528 1072 432
WIRE 1072 528 1024 528
WIRE 1152 528 1072 528
WIRE 1200 528 1200 480
WIRE 688 544 688 416
WIRE 800 544 688 544
WIRE 912 544 880 544
WIRE 960 544 912 544
WIRE 1152 544 1152 528
WIRE 448 592 352 592
WIRE 592 592 528 592
WIRE 720 592 720 432
WIRE 720 592 592 592
WIRE 592 640 592 592
WIRE 800 640 768 640
WIRE 912 640 912 544
WIRE 912 640 880 640
WIRE 944 640 912 640
WIRE 1040 640 1024 640
WIRE 1152 640 1152 592
WIRE 1200 640 1200 608
WIRE -16 688 -112 688
WIRE 192 688 192 336
WIRE 192 688 -16 688
WIRE 256 688 192 688
WIRE 352 688 352 592
WIRE 352 688 336 688
WIRE 448 688 352 688
WIRE 448 720 448 688
WIRE 480 720 448 720
WIRE -112 736 -112 688
WIRE 592 736 592 704
WIRE 592 736 544 736
WIRE 480 752 448 752
WIRE 32 784 32 240
WIRE 256 784 32 784
WIRE 448 784 448 752
WIRE 448 784 336 784
WIRE 448 800 448 784
WIRE 592 800 592 736
WIRE 1136 816 1072 816
WIRE 1168 816 1136 816
WIRE 1376 848 1248 848
WIRE 1136 864 1072 864
WIRE 1168 864 1136 864
WIRE 1248 880 1248 848
WIRE 448 896 448 880
WIRE 1136 912 1072 912
WIRE 1168 912 1136 912
WIRE 352 976 352 688
WIRE 432 976 352 976
WIRE 592 976 592 864
WIRE 592 976 512 976
WIRE 768 976 768 640
WIRE 768 976 592 976
WIRE 1248 976 1248 960
WIRE 128 1088 112 1088
WIRE 160 1088 128 1088
WIRE 400 1088 368 1088
WIRE 464 1088 400 1088
WIRE 112 1104 112 1088
WIRE 768 1136 672 1136
WIRE 944 1136 912 1136
WIRE 960 1136 944 1136
WIRE 672 1152 672 1136
WIRE 368 1184 368 1168
WIRE 672 1248 672 1232
FLAG 448 352 0
FLAG 448 896 0
FLAG 1040 640 0
FLAG -112 816 0
FLAG 112 1184 0
FLAG 128 1088 sig
FLAG -16 688 sync
FLAG 1072 432 locked
FLAG 1200 640 0
FLAG 1152 640 0
FLAG 1248 480 int
FLAG -96 400 0
FLAG 0 240 sig_in
FLAG 1216 400 0
FLAG 1248 288 ANint
FLAG 368 1184 0
FLAG 400 1088 noise
FLAG -96 288 sig_calc
FLAG 672 1248 0
FLAG 944 1136 mod
FLAG 1136 816 F0
FLAG 1136 864 F1
FLAG 1136 912 sim_time
FLAG 1248 976 0
FLAG 1376 848 sweep_freq_as_function_of_time
SYMBOL EIT_Semiconductors\\op_3 512 224 R0
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -177 46 Invisible 2
SYMATTR InstName U1
SYMATTR Value Vp={Vsup} Vm={-Vsup} Ilim=20m
SYMBOL res 544 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL diode 576 192 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 576 352 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL res 464 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 3.3k
SYMBOL res 528 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL EIT_Semiconductors\\op_3 512 736 R0
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -177 46 Invisible 2
SYMATTR InstName U2
SYMATTR Value Vp={Vsup} Vm={-Vsup} Ilim=20m
SYMBOL res 544 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL diode 576 640 R0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 576 800 R0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res 464 896 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 528 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 352 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 352 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 208 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 48 192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL EIT_Semiconductors\\op_3 992 528 R0
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -177 46 Invisible 2
SYMATTR InstName U3
SYMATTR Value Vp={Vsup} Vm={-Vsup} Ilim=20m
SYMBOL res 1040 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 1040 656 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 784 560 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 784 656 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 784 448 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 784 352 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL source-V 112 1088 R0
WINDOW 0 37 47 Left 2
WINDOW 3 -84 136 Left 2
WINDOW 123 -84 164 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 .1 {fsig})
SYMATTR Value2 AC 1
SYMBOL source-V -112 720 R0
WINDOW 3 -117 141 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(6 -6 {sync_delay} 10n 10n {1/(2*fref)} {1/fref})
SYMBOL e 1200 512 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL bv -96 288 R0
WINDOW 0 33 61 Left 2
WINDOW 3 -131 157 Left 2
SYMATTR InstName B2
SYMATTR Value V=V(noise)+V(mod)
SYMBOL res 1200 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -59 53 VTop 2
SYMATTR InstName R17
SYMATTR Value {3/(1n*fsig)}
SYMBOL cap 1200 320 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL bv 368 1072 R0
WINDOW 0 33 61 Left 2
WINDOW 3 -142 145 Left 2
SYMATTR InstName B3
SYMATTR Value V=NOISE_PWR*white(1000k*time)
SYMBOL Misc\\jumper -64 176 R0
SYMATTR InstName X1
SYMBOL SpecialFunctions\\modulate2 768 1136 R0
WINDOW 3 -60 121 Left 2
SYMATTR Value space={F0} mark={F1}
SYMATTR InstName A1
SYMBOL voltage 672 1136 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 19 -76 Left 2
SYMATTR Value PULSE(0 1 0 {sim_time})
SYMATTR InstName V3
SYMBOL source-Vmarker 1072 816 R0
SYMATTR Value V={F0}
SYMATTR InstName U4
SYMBOL source-Vmarker 1072 864 R0
SYMATTR Value V={F1}
SYMATTR InstName U5
SYMBOL source-Vmarker 1072 912 R0
SYMATTR Value V={sim_time}
SYMATTR InstName U6
SYMBOL bv 1248 864 R0
WINDOW 0 33 61 Left 2
WINDOW 3 -230 152 Left 2
SYMATTR InstName B1
SYMATTR Value V=time/V(sim_time)*(V(F1)-V(F0))+V(F0)
TEXT -128 -368 Left 2 ;"Prinzip der Lock-In-Detektion am Beispiel eines ESR-Signals"\nLock- In Verstärker wird auch phasenempfindlicher Gleichrichter genannt
TEXT 396 -246 Left 2 !.tran 0 {sim_time} 0 {1/(100*fsig)}
TEXT -136 -256 Left 2 !.param sim_time = {500/(fsig)}\n.param Vsup = 12V\n.param fsig = 1k\n.param NOISE_PWR = 0.01\n.param sync_phase = 0\n.param sync_delay = {sync_phase/(2*fsig*180)}\n.param fref = fsig*fref_stratch\n.param fref_stratch = 1\n \n.options plotwinsize=0
TEXT 384 -96 Left 2 !.step param NOISE_PWR list 0.01 0.05 0.1 0.5
TEXT 1136 680 Left 2 ;laplace=1/(s*(3/fsig)+1)
TEXT 376 -72 Left 2 ;.step param sync_phase list 0 10 20 90 180
TEXT 392 -48 Left 2 ;.step param fref_stratch list 1 1.01 1.1
TEXT 704 1288 Left 2 !.param F0=500\n.param F1=2k
