Version 4
SHEET 1 2104 680
WIRE 1520 112 1472 112
WIRE 1632 112 1600 112
WIRE 1664 112 1632 112
WIRE 1760 112 1744 112
WIRE 1472 128 1472 112
WIRE 1632 208 1632 112
WIRE 1664 208 1632 208
WIRE 1760 224 1760 112
WIRE 1760 224 1728 224
WIRE 1792 224 1760 224
WIRE 1824 224 1792 224
WIRE 1664 240 1632 240
WIRE 1520 304 1504 304
WIRE 1632 304 1632 240
WIRE 1632 304 1600 304
FLAG 1792 224 Ys2
FLAG 1472 208 0
SYMBOL res 1504 320 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value {R4}
SYMBOL res 1504 128 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {R3}
SYMBOL res 1760 128 M270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value {R1}
SYMBOL source-Vmarker 1504 304 R0
SYMATTR Value V={k*Vref}
SYMATTR InstName U5
SYMBOL source-V 1472 112 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(-10 10 1k 10m)
SYMBOL EIT_Semiconductors\\op_3 1696 224 R0
SYMATTR InstName U3
SYMATTR Value Vp=12 Vm=-12 Ilim=20m
TEXT 1416 392 Left 2 !.tran 10m
TEXT 1672 352 Left 2 !.param deltaVpos = 20V\n.param deltaVa = 4V\n.param VaMin = 0V \n.param gain = deltaVa / deltaVpos\n \n.param R3 = 5k\n.param R1 = R3*gain\n.param R4 = {R1*R3/(R1+R3)}\n.param Vref = 1/2 * (deltaVa + VaMin)
TEXT 1352 440 Left 2 !.step param k .8 .9 .005
