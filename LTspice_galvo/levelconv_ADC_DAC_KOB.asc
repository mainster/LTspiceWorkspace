Version 4
SHEET 1 3748 3204
WIRE 2448 896 2448 864
WIRE 2864 912 2816 912
WIRE 2912 912 2864 912
WIRE 2816 944 2816 912
WIRE 1184 960 1152 960
WIRE 1296 960 1264 960
WIRE 1936 976 1936 912
WIRE 2032 976 2032 912
WIRE 2448 992 2448 960
WIRE 2448 992 2432 992
WIRE 1312 1008 1216 1008
WIRE 1216 1040 1216 1008
WIRE 2816 1040 2816 1024
WIRE 1056 1056 1024 1056
WIRE 1152 1056 1152 960
WIRE 1152 1056 1136 1056
WIRE 1184 1056 1152 1056
WIRE 1936 1056 1936 1040
WIRE 2032 1056 2032 1040
WIRE 1296 1072 1296 960
WIRE 1296 1072 1248 1072
WIRE 1328 1072 1296 1072
WIRE 1488 1072 1328 1072
WIRE 1936 1072 1936 1056
WIRE 2032 1072 2032 1056
WIRE 1184 1088 1152 1088
WIRE 1488 1104 1488 1072
WIRE 1216 1136 1216 1104
WIRE 1312 1136 1216 1136
WIRE 1632 1168 1600 1168
WIRE 1744 1168 1712 1168
WIRE 1152 1200 1152 1088
WIRE 1664 1248 1664 1232
WIRE 1600 1264 1600 1168
WIRE 1632 1264 1600 1264
WIRE 1744 1280 1744 1168
WIRE 1744 1280 1696 1280
WIRE 1840 1280 1744 1280
WIRE 1872 1280 1840 1280
WIRE 1984 1280 1952 1280
WIRE 2160 1280 2160 1264
WIRE 2160 1280 2032 1280
WIRE 2416 1280 2384 1280
WIRE 2496 1280 2480 1280
WIRE 2624 1280 2496 1280
WIRE 2768 1280 2768 1248
WIRE 2816 1280 2768 1280
WIRE 1152 1296 1152 1280
WIRE 1488 1296 1488 1264
WIRE 1632 1296 1488 1296
WIRE 2160 1296 2160 1280
WIRE 2816 1296 2816 1280
WIRE 1488 1328 1488 1296
WIRE 1664 1328 1664 1312
WIRE 2560 1344 2560 1328
WIRE 2096 1360 2096 1344
WIRE 2496 1360 2496 1280
WIRE 2528 1360 2496 1360
WIRE 2032 1376 2032 1280
WIRE 2064 1376 2032 1376
WIRE 2624 1376 2624 1280
WIRE 2624 1376 2592 1376
WIRE 2656 1376 2624 1376
WIRE 2768 1376 2768 1344
WIRE 2768 1376 2656 1376
WIRE 2816 1376 2816 1360
WIRE 2816 1376 2768 1376
WIRE 3040 1376 2816 1376
WIRE 2160 1392 2160 1376
WIRE 2160 1392 2128 1392
WIRE 2256 1392 2160 1392
WIRE 2288 1392 2256 1392
WIRE 2384 1392 2384 1280
WIRE 2384 1392 2368 1392
WIRE 2400 1392 2384 1392
WIRE 2496 1392 2480 1392
WIRE 2528 1392 2496 1392
WIRE 2768 1392 2768 1376
WIRE 2816 1392 2816 1376
WIRE 1840 1408 1712 1408
WIRE 1872 1408 1840 1408
WIRE 1984 1408 1984 1280
WIRE 1984 1408 1952 1408
WIRE 2064 1408 1984 1408
WIRE 2496 1424 2496 1392
WIRE 2560 1424 2560 1408
WIRE 2096 1440 2096 1424
WIRE 1712 1456 1712 1408
WIRE 1984 1472 1984 1408
WIRE 2768 1472 2768 1456
WIRE 2816 1472 2816 1456
WIRE 2816 1472 2768 1472
WIRE 2768 1488 2768 1472
WIRE 2496 1504 2496 1488
WIRE 1488 1520 1488 1488
WIRE 1872 1536 1840 1536
WIRE 1984 1536 1984 1472
WIRE 1984 1536 1952 1536
WIRE 2064 1536 1984 1536
WIRE 2992 1536 2144 1536
WIRE 1712 1552 1712 1536
WIRE 2992 1552 2992 1536
WIRE 1984 1616 1984 1536
WIRE 2992 1648 2992 1632
WIRE 1984 1696 1984 1680
FLAG 2032 1072 0
FLAG 2032 912 Vp
FLAG 1936 1072 0
FLAG 1936 912 Vm
FLAG 1024 1056 0
FLAG 1152 1088 in
FLAG 1328 1072 out2
FLAG 1152 1296 0
FLAG 1488 1520 0
FLAG 1488 1296 div
FLAG 1664 1232 Vp
FLAG 1664 1328 Vm
FLAG 2096 1344 Vp
FLAG 2096 1440 Vm
FLAG 1712 1552 0
FLAG 2160 1184 0
FLAG 2992 1648 0
FLAG 1840 1536 0
FLAG 1840 1280 u1
FLAG 1840 1408 u2
FLAG 1984 1472 u5
FLAG 2448 864 0
FLAG 2560 1328 Vp
FLAG 2560 1424 Vm
FLAG 2496 1504 0
FLAG 2656 1376 fil
FLAG 2256 1392 sum
FLAG 2352 992 0
FLAG 2768 1488 0
FLAG 2816 1040 0
FLAG 2864 912 +3.3V
FLAG 2768 1248 +3.3V
FLAG 1984 1696 0
SYMBOL res 1280 944 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R13
SYMATTR Value 9k
SYMBOL res 1040 1072 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 1216 1008 R0
SYMATTR InstName U4
SYMATTR Value OPA404
SYMBOL res 1472 1088 R0
SYMATTR InstName R11
SYMATTR Value 2k
SYMBOL res 1472 1392 R0
SYMATTR InstName R14
SYMATTR Value 150
SYMBOL res 1472 1168 R0
SYMATTR InstName R5
SYMATTR Value 2k
SYMBOL res 1472 1312 R0
SYMATTR InstName R16
SYMATTR Value 560
SYMBOL res 1728 1152 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 -19 10 VTop 0
SYMATTR InstName R7
SYMATTR Value 1m
SYMBOL Opamps\\opamp2 1664 1216 R0
SYMATTR InstName U2
SYMATTR Value OPA404
SYMBOL res 2144 1392 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R3
SYMATTR Value {Ra*2}
SYMBOL Opamps\\opamp2 2096 1328 R0
WINDOW 3 41 104 Left 0
SYMATTR Value OPA404
SYMATTR InstName U3
SYMBOL res 2144 1280 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R4
SYMATTR Value {Ra}
SYMBOL res 1968 1424 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value {Ra}
SYMBOL res 1968 1264 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R1
SYMATTR Value {Ra}
SYMBOL res 2160 1520 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R18
SYMATTR Value {8*Ra}
SYMBOL res 1968 1520 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R19
SYMATTR Value {8/7*Ra}
SYMBOL res 2448 976 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL zener 2432 896 R0
WINDOW 3 -8 -75 Left 0
SYMATTR Value 1N750
SYMATTR InstName D1
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL source-V 1152 1184 R0
WINDOW 123 28 109 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V5
SYMATTR Value SINE(0 1 100)
SYMBOL source-V 1712 1440 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1.24
SYMBOL source-V 2992 1536 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {0.26*8}
SYMBOL source-V 1936 960 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value -10
SYMBOL source-V 2032 960 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value 10
SYMBOL source-Vmarker 1312 1008 R180
SYMATTR Value V=15V
SYMATTR InstName U1
SYMBOL source-Vmarker 1312 1136 R180
SYMATTR Value V=-15V
SYMATTR InstName U5
SYMBOL cap 2416 1296 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C1
SYMATTR Value 4.7n
SYMBOL cap 2512 1424 M0
SYMATTR InstName C2
SYMATTR Value 4.7n
SYMATTR SpiceLine Rser=10
SYMBOL res 2384 1408 R270
WINDOW 0 25 56 VTop 0
WINDOW 3 7 56 VBottom 0
SYMATTR InstName R8
SYMATTR Value 1.2k
SYMBOL res 2272 1408 R270
WINDOW 0 25 56 VTop 0
WINDOW 3 7 56 VBottom 0
SYMATTR InstName R9
SYMATTR Value 1.2k
SYMBOL Opamps\\opamp2 2560 1312 R0
WINDOW 3 41 104 Left 0
SYMATTR Value OPA404
SYMATTR InstName U6
SYMBOL schottky 2784 1344 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2784 1456 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL source-V 2816 928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3V
SYMBOL cap 1968 1616 R0
SYMATTR InstName C3
SYMATTR Value {c3}
SYMBOL cap 2800 1360 M180
WINDOW 0 24 64 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName C4
SYMATTR Value 7p
SYMBOL cap 2800 1456 M180
WINDOW 0 24 64 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName C5
SYMATTR Value 7p
TEXT 1416 616 Left 0 ;.ac oct 100 10 1meg
TEXT 1400 784 Left 0 !.include /home/mainster/.wine/drive_c/Program Files (x86)/LTC_orig/LTspiceIV_4.18/lib/sub/OPA404.LIB
TEXT 1400 808 Left 0 !.include /home/mainster/.wine/drive_c/Program Files (x86)/LTC_orig/LTspiceIV_4.18/lib/sub/LM358.lib
TEXT 1080 792 Left 0 ;Position Demodulator\n2 deg / V\n \n---> +-10V @ +-20deg
TEXT 2984 1032 VRight 0 ;xmega128a1 ADC mit Vref=3V
TEXT 1888 728 Left 0 ;20Vpp --> 3Vpp
TEXT 2984 1680 VRight 0 ;xmega128a1 DAC \nzur offset feintrimmung
TEXT 1904 1160 Left 0 !.param Ra=18k\n.param Rs=1k
TEXT 1280 1840 Left 0 ;(u1*R2*R5+u2*R1*R5+u5*R1*R2)*R3/(R4*(R1*R2+R5*(R1+R2))) + (u1*R2*R5+u2*R1*R5+u5*R1*R2)/(R1*R2+R5*(R1+R2))==ua\nua=u1+u2+u5/5
TEXT 1792 1616 Left 0 ;R5=R18 || R19
TEXT 1408 688 Left 0 ;.step dec param w 1k 30k 25\n.ac list {w/(2*pi)}
TEXT 1416 648 Left 0 !.tran 20m
TEXT 2392 1152 Left 0 ;Butterworth/Sallenkey\nFg=28kHz Unity gain
TEXT 2800 1248 Left 0 ;BAT42
TEXT 2184 1600 Left 0 !.param c3=1e-15\n;.step param c3 list 1e-15 10n
TEXT 2384 1088 Left 0 !.param n=0.1\n;.step param n list 0.1 1
LINE Normal 2944 1792 2944 992 2
LINE Normal 1408 1792 1408 992 2
RECTANGLE Normal 2160 1600 1808 1488 2
