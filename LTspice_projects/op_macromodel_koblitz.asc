Version 4
SHEET 1 2788 1584
WIRE -240 -1584 -256 -1584
WIRE -128 -1584 -160 -1584
WIRE -112 -1584 -128 -1584
WIRE -256 -1552 -256 -1584
WIRE 96 -1552 80 -1552
WIRE -112 -1520 -128 -1520
WIRE -128 -1472 -128 -1520
WIRE -64 -1472 -128 -1472
WIRE -32 -1472 -64 -1472
WIRE 96 -1472 96 -1552
WIRE 96 -1472 48 -1472
WIRE -256 -1440 -256 -1472
WIRE -64 -1440 -64 -1472
WIRE -64 -1328 -64 -1360
WIRE -352 -1040 -432 -1040
WIRE -192 -1040 -272 -1040
WIRE -80 -1040 -192 -1040
WIRE 64 -1040 -80 -1040
WIRE -832 -1024 -848 -1024
WIRE -800 -1024 -832 -1024
WIRE -704 -1024 -720 -1024
WIRE -672 -1024 -704 -1024
WIRE -272 -1024 -272 -1040
WIRE -192 -1024 -192 -1040
WIRE -848 -1008 -848 -1024
WIRE -720 -1008 -720 -1024
WIRE -352 -1008 -352 -1040
WIRE -80 -1008 -80 -1040
WIRE -848 -928 -848 -944
WIRE -720 -928 -720 -944
WIRE -352 -928 -352 -960
WIRE -272 -928 -272 -944
WIRE -192 -928 -192 -944
WIRE -80 -928 -80 -944
WIRE 240 -800 240 -832
WIRE 240 -800 144 -800
WIRE -800 -784 -800 -832
WIRE -752 -784 -752 -832
WIRE -432 -784 -432 -1040
WIRE -368 -784 -432 -784
WIRE -272 -784 -368 -784
WIRE -272 -768 -272 -784
WIRE -368 -752 -368 -784
WIRE -352 -752 -368 -752
WIRE 144 -752 144 -800
WIRE 240 -752 240 -800
WIRE 64 -736 64 -1040
WIRE 96 -736 64 -736
WIRE -352 -704 -368 -704
WIRE -880 -672 -912 -672
WIRE -752 -672 -752 -704
WIRE -752 -672 -880 -672
WIRE -672 -672 -752 -672
WIRE -272 -672 -272 -688
WIRE -672 -656 -672 -672
WIRE -640 -656 -672 -656
WIRE -528 -640 -544 -640
WIRE -512 -640 -528 -640
WIRE -432 -640 -432 -784
WIRE -432 -640 -512 -640
WIRE -368 -640 -368 -704
WIRE 96 -640 96 -688
WIRE 96 -640 -368 -640
WIRE 144 -640 144 -672
WIRE 144 -640 96 -640
WIRE 224 -640 144 -640
WIRE 240 -640 240 -688
WIRE 240 -640 224 -640
WIRE -640 -624 -672 -624
WIRE -512 -624 -512 -640
WIRE -880 -608 -912 -608
WIRE -800 -608 -800 -704
WIRE -800 -608 -880 -608
WIRE -672 -608 -672 -624
WIRE -672 -608 -800 -608
WIRE 144 -608 144 -640
WIRE 240 -608 240 -640
WIRE -624 -592 -624 -608
WIRE 96 -592 96 -640
WIRE -800 -560 -800 -608
WIRE -752 -560 -752 -672
WIRE 64 -544 64 -736
WIRE 96 -544 64 -544
WIRE -512 -528 -512 -544
WIRE -192 -528 -272 -528
WIRE -80 -528 -192 -528
WIRE -272 -512 -272 -528
WIRE -192 -512 -192 -528
WIRE -432 -496 -432 -640
WIRE -352 -496 -432 -496
WIRE -80 -496 -80 -528
WIRE 144 -480 144 -528
WIRE 240 -480 240 -544
WIRE 240 -480 144 -480
WIRE -800 -448 -800 -480
WIRE -752 -448 -752 -480
WIRE 240 -448 240 -480
WIRE -352 -416 -352 -448
WIRE -272 -416 -272 -432
WIRE -192 -416 -192 -432
WIRE -80 -416 -80 -432
FLAG -848 -928 0
FLAG -832 -1024 Vpl
FLAG -720 -928 0
FLAG -624 -592 0
FLAG -528 -640 N002
FLAG -512 -528 0
FLAG -256 -1440 0
FLAG 96 -1552 out
FLAG -64 -1328 0
FLAG -272 -672 0
FLAG -192 -416 0
FLAG -272 -528 N004
FLAG -352 -416 0
FLAG -272 -416 0
FLAG -192 -928 0
FLAG -272 -1040 N003
FLAG -352 -928 0
FLAG -272 -928 0
FLAG -80 -928 0
FLAG -80 -416 0
FLAG 240 -832 Vpl
FLAG 240 -448 Vmi
FLAG -704 -1024 Vmi
FLAG -800 -832 Vpl
FLAG -752 -832 Vpl
FLAG -800 -448 Vmi
FLAG -752 -448 Vmi
FLAG -880 -672 in+
FLAG -880 -608 in-
FLAG 224 -640 out
FLAG -128 -1584 in+
FLAG -128 -1520 in-
SYMBOL source-V -848 -1024 R0
SYMATTR InstName vpl1
SYMATTR Value {Vp}
SYMBOL source-V -720 -1024 R0
SYMATTR InstName vmi1
SYMATTR Value {Vm}
SYMBOL sw 144 -656 M180
SYMATTR InstName S2
SYMATTR Value Q
SYMBOL sw 144 -512 M180
SYMATTR InstName S3
SYMATTR Value Q
SYMBOL cap 256 -608 M0
SYMATTR InstName C3
SYMATTR Value 1p
SYMBOL cap 256 -752 M0
SYMATTR InstName C4
SYMATTR Value 1p
SYMBOL res -784 -800 M0
SYMATTR InstName R3
SYMATTR Value {2*Rin}
SYMATTR Value2 noiseless
SYMBOL res -768 -800 R0
SYMATTR InstName R4
SYMATTR Value {2*Rin}
SYMATTR Value2 noiseless
SYMBOL res -768 -576 R0
SYMATTR InstName R5
SYMATTR Value {2*Rin}
SYMATTR Value2 noiseless
SYMBOL res -784 -576 M0
SYMATTR InstName R6
SYMATTR Value {2*Rin}
SYMATTR Value2 noiseless
SYMBOL MDB_sym\\otaMDB -608 -640 R0
WINDOW 3 285 559 Center 2
SYMATTR InstName A1
SYMATTR Value G={A0/Rout} ref={Vos} Iout={1.e+6*sr*Cout} Cout={Cout} en={en} enk={enk} in={in} ink={ink} incm={incm} incmk={incmk} Vhigh=1e308 Vlow=-1e308
SYMATTR Value2 ""
SYMBOL res -496 -640 M0
SYMATTR InstName R7
SYMATTR Value {Rout}
SYMATTR Value2 noiseless
SYMBOL source-V -256 -1568 R0
WINDOW 3 -53 165 Left 2
WINDOW 123 28 52 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 1 1k)
SYMATTR Value2 AC 1
SYMBOL res -256 -1568 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 64 -1488 R90
WINDOW 0 7 56 VBottom 2
WINDOW 3 25 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 20k
SYMBOL res -48 -1344 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL crtl-V-I -272 -528 R0
WINDOW 3 -22 147 Left 2
SYMATTR Value {1/Rout}
SYMATTR InstName Gp2
SYMBOL res -208 -528 R0
SYMATTR Value2 noiseless
SYMATTR InstName Rp1
SYMATTR Value {Rout}
SYMBOL crtl-V-I -272 -1040 R0
WINDOW 3 -33 145 Left 2
SYMATTR Value {1/Rout}
SYMATTR InstName Gp3
SYMBOL res -208 -1040 R0
SYMATTR Value2 noiseless
SYMATTR InstName Rp2
SYMATTR Value {Rout}
SYMBOL cap -96 -1008 R0
WINDOW 3 -216 142 Left 2
SYMATTR InstName Cp1
SYMATTR Value {cout*tan(pi*(0.25-phir/360))/A0}
SYMBOL cap -96 -496 R0
WINDOW 3 -203 141 Left 2
SYMATTR InstName Cp2
SYMATTR Value {cout*tan(pi*(0.25-phir/360))/A0}
SYMBOL crtl-V-I_INV -272 -784 R0
WINDOW 3 -360 -29 Invisible 2
SYMATTR InstName G2
SYMATTR Value table (-500m {-2.e+6*sr*Cout} -100m 0 100m 0 500m {2.e+6*sr*Cout})
TEXT -704 -232 Left 2 !.param Vp=10 Vm=-10\n.param Rout=100Meg\n.param Cout={A0/FT/2/pi/Rout}\n.model Q SW(Ron=10 Roff=10Meg Vt=0 Vh=-.1 Vser={Rail} ilimit={ilim} noiseless level=2 epsilon={Rail/10})\n.param A0=1Meg FT=10Meg Sr=10 rail=0 Vos=0 ilim=25m\n.param en=0 enk=0 in=0 ink=0 incm=0 incmk=0 Rin=1G phir=45
TEXT -910 -1134 Left 2 !.tran 3m
