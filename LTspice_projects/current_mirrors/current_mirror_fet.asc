Version 4
SHEET 1 1400 1488
WIRE -896 -880 -928 -880
WIRE -864 -880 -896 -880
WIRE -528 -864 -560 -864
WIRE -528 -832 -528 -864
WIRE -896 -816 -912 -816
WIRE -880 -816 -896 -816
WIRE -1008 -784 -1008 -816
WIRE -912 -784 -912 -816
WIRE -576 -768 -608 -768
WIRE -608 -752 -608 -768
WIRE -1008 -688 -1008 -704
WIRE -912 -688 -912 -704
WIRE -528 -672 -528 -736
WIRE -1216 -544 -1248 -544
WIRE -1216 -512 -1216 -544
WIRE -944 -496 -976 -496
WIRE -528 -480 -672 -480
WIRE -944 -464 -944 -496
WIRE -1216 -448 -1216 -480
WIRE -1216 -448 -1280 -448
WIRE -1280 -432 -1280 -448
WIRE -1216 -432 -1216 -448
WIRE -528 -416 -528 -480
WIRE -672 -400 -672 -480
WIRE -656 -400 -672 -400
WIRE -992 -384 -1024 -384
WIRE -1024 -368 -1024 -384
WIRE -1280 -336 -1280 -352
WIRE -1248 -336 -1280 -336
WIRE -1216 -336 -1216 -352
WIRE -1216 -336 -1248 -336
WIRE -944 -288 -944 -368
WIRE -1248 -272 -1248 -336
WIRE -528 -256 -528 -320
WIRE -848 -80 -1008 -80
WIRE -656 -80 -848 -80
WIRE -1360 -32 -1360 -80
WIRE -848 -16 -848 -80
WIRE -656 -16 -656 -80
WIRE -752 0 -800 0
WIRE -704 0 -752 0
WIRE -16 0 -304 0
WIRE 240 0 -16 0
WIRE -16 64 -16 0
WIRE -16 64 -80 64
WIRE 64 64 -16 64
WIRE 240 64 240 0
WIRE 240 64 160 64
WIRE 304 64 240 64
WIRE -80 80 -80 64
WIRE -16 80 -16 64
WIRE 240 80 240 64
WIRE 304 80 304 64
WIRE -1360 96 -1360 48
WIRE -1008 96 -1008 -80
WIRE 64 96 64 64
WIRE 160 96 160 64
WIRE -752 112 -752 0
WIRE -752 112 -960 112
WIRE -704 112 -752 112
WIRE -656 112 -656 80
WIRE -656 112 -704 112
WIRE -304 112 -304 0
WIRE -304 112 -368 112
WIRE -224 112 -304 112
WIRE -368 128 -368 112
WIRE -304 128 -304 112
WIRE -224 144 -224 112
WIRE -80 176 -80 160
WIRE -16 176 -16 160
WIRE -16 176 -80 176
WIRE 64 176 64 144
WIRE 112 176 64 176
WIRE 160 176 160 144
WIRE 160 176 112 176
WIRE 240 176 240 160
WIRE 240 176 160 176
WIRE 304 176 304 160
WIRE 304 176 240 176
WIRE -848 192 -848 80
WIRE -800 192 -848 192
WIRE -752 192 -800 192
WIRE -848 208 -848 192
WIRE -656 208 -656 112
WIRE -368 224 -368 208
WIRE -304 224 -304 208
WIRE -304 224 -368 224
WIRE -224 224 -224 192
WIRE 112 224 112 176
WIRE 112 224 -224 224
WIRE -1008 256 -1008 192
WIRE -16 272 -16 176
WIRE -16 272 -32 272
WIRE 240 272 240 176
WIRE 256 272 240 272
WIRE -304 304 -304 224
WIRE -16 304 -16 272
WIRE -752 320 -752 192
WIRE -752 320 -800 320
WIRE -704 320 -752 320
WIRE -656 352 -656 336
WIRE -1008 368 -1008 336
WIRE -16 368 -16 336
WIRE -16 368 -80 368
WIRE 64 368 -16 368
WIRE 160 368 64 368
WIRE 240 368 240 272
WIRE 304 368 240 368
WIRE -80 384 -80 368
WIRE -16 384 -16 368
WIRE 240 384 240 368
WIRE 304 384 304 368
WIRE 64 400 64 368
WIRE 160 400 160 368
WIRE -304 416 -304 384
WIRE -848 448 -848 336
WIRE -656 448 -656 432
WIRE -80 480 -80 464
WIRE -16 480 -16 464
WIRE -16 480 -80 480
WIRE 64 480 64 448
WIRE 64 480 -16 480
WIRE 160 480 160 448
WIRE 240 480 240 464
WIRE 240 480 160 480
WIRE 272 480 240 480
WIRE 304 480 304 464
WIRE 304 480 272 480
WIRE 240 496 240 480
WIRE -16 544 -16 480
WIRE 240 592 240 576
FLAG -912 -688 0
FLAG -896 -816 co
FLAG -1008 -688 0
FLAG -1024 -288 0
FLAG -944 -288 0
FLAG -608 -672 0
FLAG -528 -672 0
FLAG -528 -256 0
FLAG -656 448 0
FLAG -848 448 0
FLAG -1008 368 0
FLAG -896 -880 Vp
FLAG -848 -80 Vp
FLAG -752 0 G34
FLAG -704 112 G34
FLAG -800 192 G12
FLAG -304 416 0
FLAG -16 544 0
FLAG 240 592 0
FLAG 64 368 G1
FLAG 272 480 S2
FLAG -16 0 Vpl
FLAG -1248 -272 0
FLAG -1024 -384 gg1
FLAG -1360 96 0
FLAG -1360 -80 0
FLAG 160 176 G3
FLAG -32 272 A
FLAG 256 272 B
SYMBOL source-V -912 -800 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value PULSE(-4 4 0 100m)
SYMBOL source-V -1008 -800 R0
WINDOW 3 -36 142 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 1 1k)
SYMATTR InstName V5
SYMBOL EIT_Semiconductors\\nmos -992 -464 R0
SYMATTR InstName M95
SYMATTR Value Nx
SYMBOL source-V -1024 -384 R0
WINDOW 3 -83 123 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 4 0 100m)
SYMATTR InstName V6
SYMBOL source-Vmarker -976 -496 R0
SYMATTR InstName U4
SYMBOL EIT_Semiconductors\\njf -576 -832 R0
SYMATTR InstName J2
SYMATTR Value NJFx
SYMBOL source-V -608 -768 R0
WINDOW 3 -70 125 Left 2
SYMATTR Value PULSE(-3 .3 0 100m)
SYMATTR InstName V7
SYMBOL source-Vmarker -560 -864 R0
SYMATTR InstName U5
SYMBOL source-V -560 -400 R90
WINDOW 0 -27 56 VBottom 2
WINDOW 3 133 72 VTop 2
SYMATTR InstName V8
SYMATTR Value PULSE(-4 0 0 100m)
SYMBOL source-Vmarker -672 -480 R0
SYMATTR InstName U6
SYMBOL EIT_Semiconductors\\pmos -576 -320 M180
SYMATTR InstName M96
SYMATTR Value Px
SYMBOL EIT_Semiconductors\\nmos -800 240 M0
SYMATTR InstName M1
SYMATTR Value Nx
SYMBOL EIT_Semiconductors\\nmos -704 240 R0
SYMATTR InstName M2
SYMATTR Value Nx
SYMBOL EIT_Semiconductors\\pmos -704 80 M180
SYMATTR InstName M3
SYMATTR Value Px
SYMBOL EIT_Semiconductors\\pmos -800 80 R180
SYMATTR InstName M4
SYMATTR Value Px
SYMBOL res -672 336 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL source-Vmarker -928 -880 R0
SYMATTR Value V=20V
SYMATTR InstName U1
SYMBOL MDB_sym\\arrow_curr -848 224 R0
SYMATTR InstName ID1a
SYMBOL MDB_sym\\arrow_curr -656 224 R0
SYMATTR InstName ID2a
SYMBOL source-I -1008 336 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Iref2
SYMATTR Value {ref}
SYMBOL bi 240 80 M0
WINDOW 3 -312 -197 Left 2
SYMATTR Value I=k3*(V(G3,Vpl)-Vp)**2*buf(V(G3,Vpl)-Vp+.5)
SYMATTR InstName ID3
SYMBOL res 288 176 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value {r0}
SYMBOL bi -16 80 R0
WINDOW 3 -197 -143 Left 2
SYMATTR Value I=k4*(V(G3,Vpl)-Vp)**2*buf(V(G3,Vpl)-Vp+.5)
SYMATTR InstName ID4
SYMBOL bi -304 128 R0
WINDOW 3 -130 -152 Left 2
SYMATTR InstName ID5
SYMATTR Value I=k5*(V(G3,Vpl)-Vp)**2*buf(V(G3,Vpl)-Vp+.5)
SYMBOL source-I -304 384 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Iref3
SYMATTR Value {ref}
SYMBOL res 224 480 R0
WINDOW 0 38 55 Left 2
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL bi 240 384 M0
WINDOW 3 -239 246 Left 2
SYMATTR Value I=k2*(V(G1,S2)-Vp)**2*buf(V(G1,S2)-Vp+.5)
SYMATTR InstName ID2
SYMBOL bi -16 384 M0
WINDOW 3 -89 245 Left 2
SYMATTR Value I=k2*(V(G1)-Vp)**2*buf(V(G1)-Vp+.5)
SYMATTR InstName ID1
SYMBOL EIT_Semiconductors\\pmos -960 192 R180
SYMATTR InstName M5
SYMATTR Value Px
SYMBOL MDB_sym\\arrow_curr -16 320 R0
SYMATTR InstName ID1b
SYMBOL res -64 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value {r0}
SYMBOL res -352 224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value {r0}
SYMBOL res -64 368 M0
SYMATTR InstName R4
SYMATTR Value {r0}
SYMBOL res 288 368 R0
SYMATTR InstName R5
SYMATTR Value {r0}
SYMBOL bi -1280 -432 M0
WINDOW 3 27 -52 Left 2
SYMATTR Value I=0.5*k3*(V(gg1)-Vp)**2*buf(V(gg1)-Vp+.5)
SYMATTR InstName ID6
SYMBOL res -1232 -448 R0
SYMATTR InstName R6
SYMATTR Value {r0}
SYMBOL source-Vmarker -1248 -544 R0
SYMATTR InstName U2
SYMBOL MDB_sym\\arrow_curr -1216 -496 R0
SYMATTR InstName ID7
SYMBOL bi -1360 -32 M0
WINDOW 3 27 -52 Left 2
SYMATTR Value I=buf(V(gg1)-Vp+.5)
SYMATTR InstName ID8
TEXT -1128 -216 Left 2 !.model Nx NMOS(KP=2m VT0=2)
TEXT -664 -624 Left 2 ;.dc v2 -3 0.3 0.01
TEXT -712 -600 Left 2 !.model njfx njf(beta=1m VT0=-2 )
TEXT -904 -288 Left 2 ;KP = 2*K\nVT0 = VP
TEXT -488 -688 Left 2 ;beta = K\nVT0 = VP
TEXT -680 -216 Left 2 ;.dc v3 -4 0 .01
TEXT -712 -184 Left 2 !.model Px PMOS(KP=2m VT0=-2)
TEXT -488 -272 Left 2 ;KP= 2*K\nVT0 = VP
TEXT -1088 -240 Left 2 ;.dc v1 0 4 0.01
TEXT -304 -312 Left 2 !.tran 100m
TEXT -464 664 Left 2 !.param K1 = 2m\n.param K2 = 2m\n.param K3 = 2m\n.param K4 = 2m\n.param K5 = 2m
TEXT -456 536 Left 2 !.param ref = 10u\n.param r0=100e9\n.param VT0=2\n.param VP=VT0
TEXT -1528 -208 Left 2 ;buf(V(gg1)+(Vp-.5)
