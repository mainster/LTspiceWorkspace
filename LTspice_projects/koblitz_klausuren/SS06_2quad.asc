Version 4
SHEET 1 1368 1420
WIRE -352 416 -368 416
WIRE -240 416 -352 416
WIRE -128 416 -240 416
WIRE -32 416 -128 416
WIRE 80 416 -32 416
WIRE 96 416 80 416
WIRE 560 416 336 416
WIRE 656 416 560 416
WIRE 784 416 656 416
WIRE -128 432 -128 416
WIRE -32 432 -32 416
WIRE 560 432 560 416
WIRE 656 432 656 416
WIRE 128 464 112 464
WIRE 224 464 208 464
WIRE 832 464 816 464
WIRE 928 464 912 464
WIRE -128 528 -128 512
WIRE 112 528 112 464
WIRE 112 528 -128 528
WIRE 144 528 112 528
WIRE 560 528 560 512
WIRE 816 528 816 464
WIRE 816 528 560 528
WIRE 848 528 816 528
WIRE -352 544 -352 416
WIRE 240 544 208 544
WIRE 272 544 240 544
WIRE 288 544 272 544
WIRE 944 544 912 544
WIRE 976 544 944 544
WIRE 992 544 976 544
WIRE -32 560 -32 512
WIRE 112 560 -32 560
WIRE 144 560 112 560
WIRE 656 560 656 512
WIRE 816 560 656 560
WIRE 848 560 816 560
WIRE 352 592 320 592
WIRE 368 592 352 592
WIRE 448 592 368 592
WIRE 688 592 448 592
WIRE 768 592 688 592
WIRE -240 608 -240 416
WIRE 80 608 80 416
WIRE 448 608 448 592
WIRE 768 608 768 592
WIRE 112 624 112 560
WIRE 128 624 112 624
WIRE 240 624 240 544
WIRE 240 624 208 624
WIRE 816 624 816 560
WIRE 832 624 816 624
WIRE 944 624 944 544
WIRE 944 624 912 624
WIRE -352 656 -352 624
WIRE -320 656 -352 656
WIRE -304 656 -320 656
WIRE 16 656 -304 656
WIRE 368 656 368 592
WIRE 384 656 368 656
WIRE 688 656 688 592
WIRE 704 656 688 656
WIRE -352 672 -352 656
WIRE -384 704 -400 704
WIRE 320 720 320 592
WIRE -384 736 -384 704
WIRE -128 736 -128 528
WIRE -32 736 -32 560
WIRE 560 736 560 528
WIRE 656 736 656 560
WIRE -352 768 -352 752
WIRE -240 784 -240 704
WIRE -192 784 -240 784
WIRE 80 784 80 704
WIRE 80 784 32 784
WIRE 448 784 448 704
WIRE 496 784 448 784
WIRE 768 784 768 704
WIRE 768 784 720 784
WIRE -352 800 -352 768
WIRE 320 800 320 784
WIRE -80 832 -128 832
WIRE -32 832 -80 832
WIRE 608 832 560 832
WIRE 656 832 608 832
WIRE -176 848 -176 832
WIRE -176 848 -224 848
WIRE 16 848 16 832
WIRE 64 848 16 848
WIRE 512 848 512 832
WIRE 512 848 464 848
WIRE 704 848 704 832
WIRE 752 848 704 848
WIRE -80 864 -80 832
WIRE 608 896 608 832
WIRE -240 912 -240 784
WIRE 80 912 80 784
WIRE 448 912 448 784
WIRE 768 912 768 784
WIRE -240 928 -240 912
WIRE 80 928 80 912
WIRE 448 928 448 912
WIRE 768 928 768 912
WIRE -192 960 -208 960
WIRE 48 960 32 960
WIRE 496 960 480 960
WIRE 736 960 720 960
WIRE -304 976 -368 976
WIRE 192 976 144 976
WIRE 384 976 320 976
WIRE 880 976 832 976
WIRE -208 992 -208 960
WIRE 48 992 48 960
WIRE 480 992 480 960
WIRE 736 992 736 960
WIRE -368 1024 -368 976
WIRE 320 1024 320 976
WIRE -288 1040 -288 1024
WIRE -288 1040 -320 1040
WIRE 128 1040 128 1024
WIRE 160 1040 128 1040
WIRE 400 1040 400 1024
WIRE 400 1040 368 1040
WIRE 816 1040 816 1024
WIRE 848 1040 816 1040
WIRE 192 1056 192 976
WIRE 880 1056 880 976
WIRE -240 1072 -240 1024
WIRE -112 1072 -240 1072
WIRE 80 1072 80 1024
WIRE 80 1072 -32 1072
WIRE 448 1072 448 1024
WIRE 576 1072 448 1072
WIRE 768 1072 768 1024
WIRE 768 1072 656 1072
WIRE -368 1104 -368 1088
WIRE -240 1104 -240 1072
WIRE 80 1104 80 1072
WIRE 448 1104 448 1072
WIRE 768 1104 768 1072
WIRE 608 1200 608 1168
WIRE 608 1280 608 1264
WIRE -368 1344 -368 1328
FLAG -352 800 0
FLAG 192 1056 0
FLAG 96 416 V+
IOPIN 96 416 In
FLAG -368 1104 0
FLAG 224 464 0
FLAG 272 544 out
FLAG -368 976 in
FLAG -320 656 ref
FLAG 880 1056 0
FLAG 784 416 V+
IOPIN 784 416 In
FLAG 928 464 0
FLAG 976 544 outk
FLAG 320 976 in
FLAG 352 592 refk
FLAG 320 800 0
FLAG -368 1344 0
FLAG 608 896 I0k
IOPIN 608 896 Out
FLAG 608 1168 I0k
IOPIN 608 1168 In
FLAG 608 1280 0
DATAFLAG 16 848 ""
DATAFLAG -176 848 ""
DATAFLAG -288 1040 ""
DATAFLAG 128 1040 ""
DATAFLAG 32 960 ""
DATAFLAG -192 960 ""
DATAFLAG -400 704 ""
DATAFLAG 704 848 ""
DATAFLAG 512 848 ""
DATAFLAG 400 1040 ""
DATAFLAG 816 1040 ""
DATAFLAG 720 960 ""
DATAFLAG 496 960 ""
DATAFLAG 80 1200 "I(u2:I1)"
SYMBOL EIT_Semiconductors\\NPN -304 608 R0
SYMATTR InstName Q3
SYMATTR Value npnx
SYMBOL res -16 1056 R90
WINDOW 0 7 56 VBottom 2
WINDOW 3 25 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R5}
SYMBOL res -144 416 R0
SYMATTR InstName R2
SYMATTR Value {R1}
SYMBOL res -336 528 M0
SYMATTR InstName R3
SYMATTR Value {12k-3.05k}
SYMBOL res -368 656 R0
SYMATTR InstName R4
SYMATTR Value 3.05k
SYMBOL MDB_sym\\source-Vmini -368 1056 R0
WINDOW 3 -130 107 Left 2
WINDOW 0 -48 -1 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE({dcoff} {Veinp} {f0})
SYMATTR InstName V1
SYMBOL MDB_sym\\source-ImarkerNeg -240 1104 R0
SYMATTR Value I={Ia}
SYMATTR InstName U1
SYMBOL MDB_sym\\source-ImarkerNeg 80 1104 R0
SYMATTR Value I={Ia}
SYMATTR InstName U2
SYMBOL MDB_sym\\source-ImarkerNeg -80 864 R0
SYMATTR Value I={I0}
SYMATTR InstName U3
SYMBOL EIT_Semiconductors\\op_3 176 544 M180
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -16 43 Invisible 2
SYMATTR Value2 FT=1Meg SR=1
SYMATTR InstName U4
SYMBOL res 112 640 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value {R2}
SYMBOL MDB_sym\\source-Vmarker -368 416 R0
SYMATTR Value V={Vplus}
SYMATTR InstName U5
SYMBOL res -48 416 R0
SYMATTR InstName R6
SYMATTR Value {R1}
SYMBOL res 112 480 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value {R2}
SYMBOL EIT_Semiconductors\\NPN 16 608 R0
SYMATTR InstName Q4
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN -192 736 R0
SYMATTR InstName Q1
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 32 736 M0
SYMATTR InstName Q2
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN -304 928 R0
WINDOW 0 34 48 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q5
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 144 928 M0
WINDOW 0 43 43 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q6
SYMATTR Value npnx
SYMBOL MDB_sym\\Vbe -256 704 R0
SYMATTR InstName U6
SYMBOL MDB_sym\\Vbe -144 832 R0
SYMATTR InstName U7
SYMBOL MDB_sym\\Vbe -256 1024 R0
SYMATTR InstName U8
SYMBOL MDB_sym\\Vbe -16 832 M0
SYMATTR InstName U9
SYMBOL MDB_sym\\Vbe 96 1024 M0
SYMATTR InstName U10
SYMBOL MDB_sym\\Vbe 64 704 R0
SYMATTR InstName U11
SYMBOL MDB_sym\\Vacross -208 1008 M0
SYMATTR InstName U12
SYMBOL MDB_sym\\Vacross 48 1008 R0
SYMATTR InstName U13
SYMBOL MDB_sym\\Vacross -384 752 R0
SYMATTR InstName U14
SYMBOL res 672 1056 R90
WINDOW 0 7 56 VBottom 2
WINDOW 3 25 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R5}
SYMBOL res 544 416 R0
SYMATTR InstName R9
SYMATTR Value {R1}
SYMBOL MDB_sym\\source-ImarkerNeg 448 1104 R0
SYMATTR Value I={Ia}
SYMATTR InstName U15
SYMBOL MDB_sym\\source-ImarkerNeg 768 1104 R0
SYMATTR Value I={Ia}
SYMATTR InstName U16
SYMBOL EIT_Semiconductors\\op_3 880 544 M180
WINDOW 123 -17 69 Invisible 2
WINDOW 3 -16 43 Invisible 2
SYMATTR Value2 FT=1Meg SR=1
SYMATTR InstName U18
SYMBOL res 816 640 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value {R2}
SYMBOL res 640 416 R0
SYMATTR InstName R13
SYMATTR Value {R1}
SYMBOL res 816 480 R270
WINDOW 0 25 56 VTop 2
WINDOW 3 7 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value {R2}
SYMBOL EIT_Semiconductors\\NPN 496 736 R0
SYMATTR InstName Q9
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 720 736 M0
SYMATTR InstName Q10
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 384 928 R0
WINDOW 0 34 48 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q11
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 832 928 M0
WINDOW 0 43 43 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q12
SYMATTR Value npnx
SYMBOL MDB_sym\\Vbe 544 832 R0
SYMATTR InstName U21
SYMBOL MDB_sym\\Vbe 432 1024 R0
SYMATTR InstName U22
SYMBOL MDB_sym\\Vbe 672 832 M0
SYMATTR InstName U23
SYMBOL MDB_sym\\Vbe 784 1024 M0
SYMATTR InstName U24
SYMBOL MDB_sym\\Vacross 480 1008 M0
SYMATTR InstName U26
SYMBOL MDB_sym\\Vacross 736 1008 R0
SYMATTR InstName U27
SYMBOL EIT_Semiconductors\\NPN 384 608 R0
WINDOW 0 34 48 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q7
SYMATTR Value npnx
SYMBOL EIT_Semiconductors\\NPN 704 608 R0
WINDOW 0 34 48 Left 2
WINDOW 3 56 68 Invisible 2
SYMATTR InstName Q8
SYMATTR Value npnx
SYMBOL MDB_sym\\source-Vmini 320 752 R0
WINDOW 3 -62 28 Left 2
WINDOW 0 -48 -1 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value 3.05
SYMATTR InstName V2
SYMBOL MDB_sym\\source-Vmini -368 1296 R0
WINDOW 3 -108 90 Left 2
WINDOW 0 -48 -1 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(0 1 {2*fm})
SYMATTR InstName V3
SYMBOL MDB_sym\\source-Imini 608 1232 R0
WINDOW 39 0 0 Left 2
SYMATTR Value SINE(1m 0.5m {fm} {5/f0})
SYMATTR InstName I1
SYMATTR Value2 ""
TEXT 360 160 Left 2 !.param quad2=1\n+ Vplus = 12V\n+ Ia = {round(1meg*( -3/2*(-Veinp)/R5 ))/1meg}\n+ I0 = 1mA\n+ R1 = 4k7\n+ R2 = 1k\n+ R5 = 3k9\n+ Veinp = 2.83V
TEXT -344 184 Left 2 !.model npnx NPN (Is={Ic0/exp(Vbe0/VT)} Bf=200000)\n.param common=1\n+ Ic0 = 500uA\n+ Vbe0 = 0.7V\n+ VT = 26mV\n+ f0 = 1k\n+ fm = 100k\n.op
TEXT -480 1200 Left 2 ;.dc V1 {-Veinp} {Veinp} .05
TEXT -584 928 Left 2 !.param dcoff = {0*2.83V}
TEXT -120 1216 Left 2 !.tran {10/f0}
