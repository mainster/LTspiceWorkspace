Version 4
SHEET 1 5492 680
WIRE 1440 -1808 1440 -1824
WIRE 1440 -1728 1424 -1728
WIRE 1440 -1712 1440 -1728
WIRE 2528 -1664 2496 -1664
WIRE 2496 -1648 2496 -1664
WIRE 2336 -1600 2320 -1600
WIRE 2336 -1568 2320 -1568
WIRE 2496 -1552 2496 -1568
WIRE 1632 -1488 1584 -1488
WIRE 1920 -1488 1632 -1488
WIRE 2000 -1488 1920 -1488
WIRE 2080 -1488 2000 -1488
WIRE 2240 -1488 2080 -1488
WIRE 2336 -1488 2240 -1488
WIRE 1632 -1456 1632 -1488
WIRE 1920 -1456 1920 -1488
WIRE 2080 -1456 2080 -1488
WIRE 1440 -1424 1424 -1424
WIRE 1424 -1408 1424 -1424
WIRE 1712 -1408 1696 -1408
WIRE 1856 -1408 1712 -1408
WIRE 2160 -1408 2144 -1408
WIRE 1344 -1392 1328 -1392
WIRE 1344 -1344 1328 -1344
WIRE 1632 -1344 1632 -1360
WIRE 1712 -1344 1712 -1408
WIRE 1712 -1344 1632 -1344
WIRE 2080 -1344 2080 -1360
WIRE 2160 -1344 2160 -1408
WIRE 2160 -1344 2080 -1344
WIRE 1632 -1328 1632 -1344
WIRE 1424 -1312 1424 -1328
WIRE 1440 -1312 1424 -1312
WIRE 1632 -1296 1536 -1296
WIRE 1728 -1296 1632 -1296
WIRE 1536 -1264 1536 -1296
WIRE 1728 -1264 1728 -1296
WIRE 1472 -1216 1440 -1216
WIRE 1824 -1216 1792 -1216
WIRE 1472 -1200 1472 -1216
WIRE 1792 -1200 1792 -1216
WIRE 2080 -1184 2080 -1344
WIRE 2240 -1152 2240 -1488
WIRE 2336 -1152 2336 -1488
WIRE 1536 -1136 1536 -1168
WIRE 1728 -1136 1728 -1168
WIRE 1664 -1088 1600 -1088
WIRE 1920 -1088 1920 -1360
WIRE 1920 -1088 1664 -1088
WIRE 2240 -992 2240 -1072
WIRE 1632 -976 1632 -992
WIRE 1296 -944 1296 -960
WIRE 1728 -944 1728 -1040
WIRE 2160 -944 1728 -944
WIRE 2176 -944 2160 -944
WIRE 1536 -928 1536 -1040
WIRE 1552 -928 1536 -928
WIRE 1568 -928 1552 -928
WIRE 2336 -928 2336 -1072
WIRE 1392 -912 1392 -944
WIRE 2080 -912 2080 -1104
WIRE 2080 -912 2000 -912
WIRE 1168 -896 1136 -896
WIRE 1232 -896 1216 -896
WIRE 1536 -896 1536 -928
WIRE 1728 -896 1728 -944
WIRE 1920 -896 1920 -1088
WIRE 2080 -896 2080 -912
WIRE 2240 -880 2240 -896
WIRE 2272 -880 2240 -880
WIRE 1632 -848 1632 -880
WIRE 1632 -848 1600 -848
WIRE 1648 -848 1632 -848
WIRE 1664 -848 1648 -848
WIRE 2000 -848 2000 -912
WIRE 2000 -848 1984 -848
WIRE 2016 -848 2000 -848
WIRE 1232 -832 1232 -896
WIRE 1232 -832 1216 -832
WIRE 1392 -832 1392 -864
WIRE 1296 -816 1296 -848
WIRE 1632 -816 1632 -848
WIRE 2240 -816 2240 -880
WIRE 1296 -752 1296 -768
WIRE 1536 -704 1536 -800
WIRE 1536 -704 1504 -704
WIRE 1632 -704 1632 -736
WIRE 1632 -704 1536 -704
WIRE 1728 -704 1728 -800
WIRE 1728 -704 1632 -704
WIRE 1920 -704 1920 -720
WIRE 1920 -704 1728 -704
WIRE 2080 -704 2080 -800
WIRE 2080 -704 1920 -704
WIRE 2144 -704 2080 -704
WIRE 2240 -704 2240 -736
WIRE 2240 -704 2144 -704
WIRE 2336 -704 2336 -832
WIRE 2336 -704 2240 -704
FLAG 1584 -1488 Vcc
IOPIN 1584 -1488 In
FLAG 1504 -704 Vee
IOPIN 1504 -704 In
FLAG 1824 -1216 in-1
IOPIN 1824 -1216 In
FLAG 1440 -1216 in+1
IOPIN 1440 -1216 In
FLAG 1632 -992 Vcc
IOPIN 1632 -992 In
FLAG 2336 -1600 Vcc
IOPIN 2336 -1600 In
FLAG 2336 -1568 Vee
IOPIN 2336 -1568 In
FLAG 1440 -1824 in+
IOPIN 1440 -1824 In
FLAG 1440 -1712 in-
IOPIN 1440 -1712 In
FLAG 2160 -944 B14
FLAG 2496 -1552 0
FLAG 1328 -1392 in+
IOPIN 1328 -1392 In
FLAG 1328 -1344 in-
IOPIN 1328 -1344 In
FLAG 1440 -1424 in+1
IOPIN 1440 -1424 In
FLAG 1440 -1312 in-1
IOPIN 1440 -1312 In
FLAG 1648 -848 B67
FLAG 1552 -928 C6
FLAG 1392 -944 C6
FLAG 1392 -832 B67
FLAG 1296 -960 Vcc
IOPIN 1296 -960 In
FLAG 1296 -752 B67
FLAG 1136 -896 C6
FLAG 1168 -832 0
DATAFLAG 1616 -1360 "abs(round(1e6*Ic(Q8))*1e-6)"
DATAFLAG 1696 -1424 "round(1e6*Ib(Q8))*1e-6"
DATAFLAG 1856 -1424 "round(1e6*Ib(Q9))*1e-6"
DATAFLAG 1952 -1200 "abs(round(1e6*Ic(Q9))*1e-6)"
DATAFLAG 2112 -1200 "round(1e6*I(R3))*1e-6"
DATAFLAG 2000 -1488 ""
DATAFLAG 1888 -896 "abs(round(1e6*Ic(Q10))*1e-6)"
DATAFLAG 1808 -1104 "abs(round(1e9*(Ib(Q3)+Ib(Q4)))*1e-9)"
DATAFLAG 2144 -704 ""
DATAFLAG 1760 -1024 "abs(round(1e8*Ic(Q4))*1e-8)"
DATAFLAG 1504 -1024 "abs(round(1e8*Ic(Q3))*1e-8)"
DATAFLAG 1808 -960 "round(1e9*(Ic(Q4)-Ic(Q3)))*1e-9"
SYMBOL EIT_Semiconductors\\pnp 1600 -1040 R180
SYMATTR InstName Q3
SYMATTR Value Qpx
SYMBOL EIT_Semiconductors\\pnp 1664 -1040 M180
SYMATTR InstName Q4
SYMATTR Value Qpx
SYMBOL MDB_sym\\source-Vmarker 2320 -1600 R0
SYMATTR Value V={VCC}
SYMATTR InstName U1
SYMBOL MDB_sym\\source-Vmarker 2320 -1568 R0
SYMATTR Value V={VEE}
SYMATTR InstName U2
SYMBOL res 1616 -832 R0
SYMATTR InstName R1
SYMATTR Value 50k
SYMBOL EIT_Semiconductors\\npn 1472 -1264 R0
SYMATTR InstName Q1
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\npn 1792 -1264 M0
SYMATTR InstName Q2
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\pnp 1696 -1360 R180
SYMATTR InstName Q8
SYMATTR Value Qpx
SYMBOL EIT_Semiconductors\\pnp 1856 -1360 M180
SYMATTR InstName Q9
SYMATTR Value Qpx
SYMBOL res 1904 -816 R0
SYMATTR InstName R2
SYMATTR Value 5k
SYMBOL res 2064 -1200 R0
SYMATTR InstName R3
SYMATTR Value {R4}
SYMBOL MDB_sym\\isoR0 1792 -1184 R0
SYMATTR InstName U3
SYMATTR Value R=10meg
SYMBOL MDB_sym\\isoR0 1472 -1184 R0
SYMATTR InstName U4
SYMATTR Value R=10meg
SYMBOL EIT_Semiconductors\\npn 1600 -896 M0
SYMATTR InstName Q6
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\npn 1664 -896 R0
SYMATTR InstName Q7
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\npn 1984 -896 M0
SYMATTR InstName Q10
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\npn 2016 -896 R0
SYMATTR InstName Q11
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\pnp 2144 -1360 R180
SYMATTR InstName Q12
SYMATTR Value Qpx
SYMBOL MDB_sym\\source-V 1440 -1824 R0
WINDOW 3 -112 172 Left 2
WINDOW 123 28 54 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 10m {f0})
SYMATTR Value2 AC 1
SYMBOL MDB_sym\\isoR0 1408 -1728 R90
SYMATTR InstName U7
SYMATTR Value R=10meg
SYMBOL MDB_sym\\source-V 2496 -1664 R0
WINDOW 123 28 54 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(0 100m {10*f0})
SYMBOL crtl-V-V 1424 -1424 R0
SYMATTR InstName E3
SYMATTR Value 1
SYMBOL res 2224 -832 R0
SYMATTR InstName R5
SYMATTR Value 50k
SYMBOL EIT_Semiconductors\\npn 2272 -928 R0
SYMATTR InstName Q13
SYMATTR Value Qnx
SYMBOL EIT_Semiconductors\\npn 2176 -992 R0
SYMATTR InstName Q14
SYMATTR Value Qnx
SYMBOL res 2320 -1168 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL MDB_sym\\arrow_curr 1632 -1312 R0
SYMATTR InstName I0
SYMBOL MDB_sym\\source-I 2240 -1072 R180
WINDOW 0 29 73 Left 2
WINDOW 3 29 17 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 470µ
SYMBOL EIT_Semiconductors\\npn 1232 -944 R0
SYMATTR InstName Q5
SYMATTR Value Qnx
SYMBOL MDB_sym\\jumperSetable 1392 -880 R90
SYMATTR InstName U5
SYMATTR Value close={1-cc}
SYMBOL MDB_sym\\jumperSetable 1296 -784 R90
SYMATTR InstName U6
SYMATTR Value close={cc}
SYMBOL MDB_sym\\jumperSetable 1200 -896 R0
SYMATTR InstName U8
SYMATTR Value close={cc}
SYMBOL MDB_sym\\jumperSetable 1200 -832 R0
SYMATTR InstName U9
SYMATTR Value close={1-cc}
TEXT 2120 -1784 Left 2 ;.model Qnx npn (Is={I0/exp(Vbe0/26m)} Bf={beta_n} ) ;Vaf=80)\n.model Qpx pnp (Is={I0/exp(Veb0/26m)} Bf={beta_p} ) ;Vaf=80)
TEXT 1624 -1752 Left 2 ;.ac oct 100 10 5meg
TEXT 1920 -1784 Left 2 !.param ua741=1\n+ Vcc = 10V\n+ Vee = -10V\n+ beta_n = 200\n+ beta_p = 100\n+ Vbe0 = 0.6V\n+ Veb0 = 0.6V\n+ R4 = 39k\n+ I0 = 400u\n+ f0 = 1k\n+ Ibcomp = 0\n+ cc = {Ibcomp}
TEXT 1624 -1720 Left 2 ;.tran {1/f0}
TEXT 1624 -1680 Left 2 !.dc V1 -7m 7m 100u
TEXT 2120 -1712 Left 2 ;Idv = Ic(Q10)*tanh(26m/4*(V(in1)-V(in2)))
TEXT 1624 -1640 Left 2 !.op
TEXT 1536 -656 Left 2 !.param ImpedConv = 0\n+ fb = {ImpedConv}
TEXT 2480 -1328 Left 2 !.meas dc Iap4 \n+ FIND Ic(Q3)-I(I0)/2\n+ WHEN Ic(Q3)=Ic(Q4)
TEXT 2072 -1920 Left 2 !.model Qnx npn ( IS=10.0f XTI=3.0 EG=1.11 VAF=100 VAR=100 BF=145.7 ISE=114.286f NE=1.480 IKF=46.7m XTB=0 BR=0.1 ISC=10.005f NC=2.0 IKR=10m RC=10.0 CJC=991.7f MJC=0.333 VJC=0.75 FC=0.5 CJE=1.02p MJE=0.336 VJE=0.75 TR=10n TF=277.01p ITF=1.75 XTF=309.38 VTF=16.37 PTF=0 RE=0 RB=0 Vceo=20 Icrating=0.1A mfg=Fairchild)\n.model Qpx pnp ( IS=10.000E-15 BF=94.511 VAF=100 IKF=1.1177E-3 ISE=976.47E-15 NE=1.9980 BR=.1001 VAR=100 IKR=10.010E-3 ISC=10.000E-15 NK=.53243 CJE=1.4535E-12 MJE=.33333 CJC=3.8474E-12 MJC=.33333 TF=24.300E-9 XTF=10.054 VTF=9.7920 ITF=1.2571 TR=10.000E-9 Vceo=20 Icrating=0.1A mfg=Fairchild)
TEXT 1856 -656 Left 2 !.step param Ibcomp list 0 1
